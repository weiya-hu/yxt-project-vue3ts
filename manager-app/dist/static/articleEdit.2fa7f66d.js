var t=Object.defineProperty,e=Object.defineProperties,a=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,c=(e,a,s)=>a in e?t(e,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[a]=s,i=(t,e)=>{for(var a in e||(e={}))r.call(e,a)&&c(t,a,e[a]);if(s)for(var a of s(e))o.call(e,a)&&c(t,a,e[a]);return t},l=(t,s)=>e(t,a(s));import{G as d,g as n,o as u,H as m,I as b,a as p,w as f,C as v,a1 as j,aw as y,ax as _,az as O,av as h,b as w}from"./vue.73bee448.js";import{D as g}from"./DetailsHeader.535ed972.js";import{t as x}from"./tip.19edb433.js";import{K as k}from"./KzAddArticle.73cd051b.js";import{e as P,k as C,j as D}from"./custom.361f566a.js";import{m as I}from"./index.5d447f79.js";import{_ as K}from"./index.12522c67.js";import"./login.76a81bb1.js";import"./request.b31062f2.js";import"./index.a86c6ab1.js";const q=t=>(y("data-v-0fc9cec8"),t=t(),_(),t),z={class:"article_add"},A={class:"fsc"},H={class:"fjend btns"},S=j("返回"),E=j("保存"),F=j("完成"),G={class:"addform"},L={class:"tip fcs"},R=["src"],$=q((()=>b("span",null,"请注意：根据国家相关法律法规要求，切勿发布任何色情、低俗、涉政等违法违规内容。一旦出现，我们将会根据法规进行审核处理。",-1)));var B=K(d({setup(t){const e=I(),a=O(),s=h(),r=a.query.id;r&&P({id:r}).then((t=>{o.value.setForm({thumb_url:t.body.thumb_url,title:t.body.title,text:t.body.content})}));const o=n(),c=n(1),d=t=>{c.value=t,o.value.validate().then((t=>{t&&o.value.submit()}))},j=async t=>{const a={content:t.text,thumb_url:t.thumb_url,title:t.title},{status:o}=1==c.value?await C(l(i({},a),{order_id:r})):await D(l(i({},a),{order_id:r}));1==o&&(e.setKeepList([]),s.replace("/cms/custom/article"))};return(t,e)=>{const a=w("el-button");return u(),m("div",z,[b("div",A,[p(g)]),b("div",H,[p(a,{class:"bdc_btn",onClick:e[0]||(e[0]=e=>t.$router.push("/cms/custom"))},{default:f((()=>[S])),_:1}),p(a,{class:"bdc_btn",onClick:e[1]||(e[1]=t=>d(1))},{default:f((()=>[E])),_:1}),p(a,{type:"primary",onClick:e[2]||(e[2]=t=>d(2))},{default:f((()=>[F])),_:1})]),b("div",G,[b("div",L,[b("img",{src:v(x),alt:""},null,8,R),$]),p(k,{ref_key:"addRef",ref:o,needimg:"",onSuccess:j},null,512)])])}}}),[["__scopeId","data-v-0fc9cec8"]]);export{B as default};
