import{q as e,D as a,f as l,_ as s,o as t,t as d,a as r,w as u,v as o,c as i,S as c,U as m,V as f,u as n,Q as p,R as v,aw as _,ax as y,az as b,b as g}from"./vue.89ed3d48.js";import{M as j}from"./Mypage.92221329.js";import{M as k}from"./MyEmpty.72a1acd1.js";import{D as h}from"./DetailsHeader.dc89d7cd.js";import{e as V,f as w}from"./users.a4d628b6.js";import{f as M}from"./date.23847c74.js";import{m as x}from"./index.5003068f.js";import{b as z,a as C}from"./index.eaa6bc8d.js";import{_ as U}from"./index.fdca730b.js";import"./empty.f131d8fb.js";import"./request.aa9790cc.js";import"./login.6de82fdd.js";const q=e=>(_("data-v-8df1bc3e"),e=e(),y(),e),D={class:"companydetails_page"},F={class:"fsc f1"},H=q((()=>o("span",null,"产品与服务",-1))),R=m("+ 添加"),E={class:"flex mt20"},I=["src"],Q=q((()=>o("div",{class:"fw600"},"已购产品",-1))),S={class:"fjend"},A=m("新增"),B={class:"addbox"},G={class:"fjend"},J=m("确定"),K=m("取消"),L={class:"fcc"},N=m(" 确定 "),O=m(" 取消 ");var P=U(e({setup(e){const _=x(),y=a((()=>_.state.typeHash)),U=b().query.id,q=l([]),P=l(1),T=l(20),W=l(0),X=async()=>{const e=await V({size:T.value,current:P.value,cid:U});1==e.status&&(q.value=e.body.records,W.value=e.body.total)};X();const Y=l({});(async()=>{const e=await w({cid:U});1==e.status&&(Y.value=e.body)})();const Z=l(!1),$=l(!1),ee=l(),ae=s({time:"",id:""}),le=s({time:[{required:!0,message:"请选择产品！",trigger:"change"}],id:[{required:!0,message:"请选择有效期！",trigger:"change"}]}),se=()=>{ee.value.resetFields(),$.value=!1},te=()=>{se(),Z.value=!1};return(e,a)=>{const l=g("el-button"),s=g("el-card"),_=g("el-table-column"),b=g("el-table"),V=g("el-descriptions-item"),w=g("el-link"),x=g("el-descriptions"),U=g("el-select"),de=g("el-form-item"),re=g("el-date-picker"),ue=g("el-form"),oe=g("el-drawer");return t(),d("div",D,[r(h),r(s,{class:"mycard mt20"},{header:u((()=>[o("div",F,[H,3==Y.value.status?(t(),i(l,{key:0,type:"primary",onClick:a[0]||(a[0]=e=>Z.value=!0)},{default:u((()=>[R])),_:1})):c("",!0)])])),_:1}),o("div",E,[r(s,{class:"mycard mr20 f1",header:"用户信息"},{default:u((()=>[r(b,{data:q.value,border:""},{empty:u((()=>[r(k)])),default:u((()=>[r(_,{prop:"name",label:"用户名"}),r(_,{prop:"mobile",label:"电话"}),r(_,{prop:"create_time",label:"注册时间"},{default:u((({row:e})=>[m(f(n(M)(new Date(e.create_time),"yyyy-MM-dd")),1)])),_:1})])),_:1},8,["data"]),r(j,{total:W.value,page:P.value,"onUpdate:page":a[1]||(a[1]=e=>P.value=e),onChange:X,size:T.value,"onUpdate:size":a[2]||(a[2]=e=>T.value=e)},null,8,["total","page","size"])])),_:1}),r(s,{class:"card1 f1"},{default:u((()=>[r(x,{column:1},{default:u((()=>[r(V,{label:"企业名称"},{default:u((()=>[m(f(Y.value.name),1)])),_:1}),Y.value.industry_id?(t(),i(V,{key:0,label:"所属行业"},{default:u((()=>[m(f(n(z)(Y.value.industry_id.split(","),n(y))),1)])),_:1})):c("",!0),r(V,{label:"统一社会信用代码","label-class-name":"icode"},{default:u((()=>[m(f(Y.value.code),1)])),_:1}),r(V,{label:"资质照片"},{default:u((()=>[o("img",{src:Y.value.license,alt:"",class:"zzimg lookhover",onClick:a[3]||(a[3]=e=>n(C)([Y.value.license],0))},null,8,I)])),_:1}),r(V,{label:"证照有效期"},{default:u((()=>[m(f(n(M)(new Date(Y.value.left_time),"yyyy-MM-dd")),1)])),_:1}),r(V,{label:"联系人"},{default:u((()=>[m(f(Y.value.legal_person),1)])),_:1}),r(V,{label:"联系电话"},{default:u((()=>[m(f(Y.value.contact),1)])),_:1}),r(V,{label:"注册地址"},{default:u((()=>[m(f(Y.value.address),1)])),_:1}),r(V,{label:"官网地址"},{default:u((()=>[r(w,{type:"primary",href:"//"+Y.value.url,target:"_blank"},{default:u((()=>[m(f(Y.value.url),1)])),_:1},8,["href"])])),_:1}),r(V,{label:"经营范围"},{default:u((()=>[m(f(Y.value.business_scope),1)])),_:1})])),_:1})])),_:1})]),r(oe,{modelValue:Z.value,"onUpdate:modelValue":a[7]||(a[7]=e=>Z.value=e),onClose:te},{title:u((()=>[Q])),footer:u((()=>[o("div",L,[r(l,{type:"primary"},{default:u((()=>[N])),_:1}),r(l,{onClick:te},{default:u((()=>[O])),_:1})])])),default:u((()=>[o("div",S,[r(l,{type:"primary",onClick:a[4]||(a[4]=e=>$.value=!0)},{default:u((()=>[A])),_:1})]),p(o("div",B,[r(ue,{model:n(ae),rules:n(le),ref_key:"addFormRef",ref:ee},{default:u((()=>[r(de,{label:" 产品",prop:"id"},{default:u((()=>[r(U,{modelValue:n(ae).id,"onUpdate:modelValue":a[5]||(a[5]=e=>n(ae).id=e),placeholder:"请选择产品"},null,8,["modelValue"])])),_:1}),r(de,{label:"有效期",prop:"time"},{default:u((()=>[r(re,{modelValue:n(ae).time,"onUpdate:modelValue":a[6]||(a[6]=e=>n(ae).time=e),placeholder:"请选择有效期"},null,8,["modelValue"])])),_:1}),o("div",G,[r(l,{type:"primary"},{default:u((()=>[J])),_:1}),r(l,{class:"ml20",onClick:se},{default:u((()=>[K])),_:1})])])),_:1},8,["model","rules"])],512),[[v,$.value]])])),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-8df1bc3e"]]);export{P as default};
