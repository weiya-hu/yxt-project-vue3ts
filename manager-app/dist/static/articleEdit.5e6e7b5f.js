var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,i=(t,a,s)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s,c=(e,t)=>{for(var a in t||(t={}))r.call(t,a)&&i(e,a,t[a]);if(s)for(var a of s(t))o.call(t,a)&&i(e,a,t[a]);return e},l=(e,s)=>t(e,a(s));import{G as d,g as n,o as u,H as m,I as p,a as b,w as f,C as v,a1 as j,aw as y,ax as _,az as w,av as O,b as h}from"./vue.73bee448.js";import{D as g}from"./DetailsHeader.17be1c46.js";import{t as x}from"./tip.19edb433.js";import{K as k}from"./KzAddArticle.955341ec.js";import{e as P,k as C,j as D}from"./custom.8dc21408.js";import{m as I}from"./index.f6907697.js";import{_ as K}from"./index.83d90a4b.js";import"./login.486a2ba7.js";import"./request.aac31659.js";import"./index.ddcc2e3e.js";const q=e=>(y("data-v-4a1f0d8a"),e=e(),_(),e),z={class:"article_add"},A={class:"fsc"},H={class:"fjend btns"},S=j("返回"),E=j("保存"),F=j("完成"),G={class:"aw"},L={class:"tip fcs"},R=["src"],$=q((()=>p("span",null,"请注意：根据国家相关法律法规要求，切勿发布任何色情、低俗、涉政等违法违规内容。一旦出现，我们将会根据法规进行审核处理。",-1)));var B=K(d({setup(e){const t=I(),a=w(),s=O(),r=a.query.id;r&&P({id:r}).then((e=>{o.value.setForm({thumb_url:e.body.thumb_url,title:e.body.title,text:e.body.content})}));const o=n(),i=n(1),d=e=>{i.value=e,o.value.validate().then((e=>{e&&o.value.submit()}))},j=async e=>{const a={content:e.text,thumb_url:e.thumb_url,title:e.title},{status:o}=1==i.value?await C(l(c({},a),{order_id:r})):await D(l(c({},a),{order_id:r}));1==o&&(t.setKeepList([]),s.replace("/cms/custom/article"))};return(e,t)=>{const a=h("el-button");return u(),m("div",z,[p("div",A,[b(g)]),p("div",H,[b(a,{class:"bdc_btn",onClick:t[0]||(t[0]=t=>e.$router.push("/cms/custom"))},{default:f((()=>[S])),_:1}),b(a,{class:"bdc_btn",onClick:t[1]||(t[1]=e=>d(1))},{default:f((()=>[E])),_:1}),b(a,{type:"primary",onClick:t[2]||(t[2]=e=>d(2))},{default:f((()=>[F])),_:1})]),p("div",G,[p("div",L,[p("img",{src:v(x),alt:""},null,8,R),$]),b(k,{ref_key:"addRef",ref:o,needimg:"",onSuccess:j},null,512)])])}}}),[["__scopeId","data-v-4a1f0d8a"]]);export{B as default};
