var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,c=(t,r,s)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s;import{G as i,g as l,o as d,H as n,I as u,a as m,w as b,a1 as p,az as f,av as v,b as y}from"./vue.73bee448.js";import{D as j}from"./DetailsHeader.37eece23.js";import{K as _}from"./KzAddArticle.ab2cff7d.js";import{d as h,h as O}from"./custom.bc573f2e.js";import{m as w}from"./index.0985d3db.js";import{_ as g}from"./index.f52bce44.js";import"./login.a3820263.js";import"./request.136e293c.js";import"./index.e78e20e4.js";const x={class:"add_article"},P={class:"fsc"},k={class:"btns"},D=p("返回"),I=p("提交"),K={class:"aw"};var q=g(i({setup(e){const i=w(),p=f(),g=v(),q=p.query.id;q&&h({id:q}).then((e=>{z.value.setForm({thumb_url:e.body.thumb_url,title:e.body.title,text:e.body.content})}));const z=l(),A=()=>{z.value.validate().then((e=>{e&&z.value.submit()}))},C=async e=>{const l={content:e.text,thumb_url:e.thumb_url,title:e.title},{status:d}=await O((n=((e,t)=>{for(var r in t||(t={}))a.call(t,r)&&c(e,r,t[r]);if(s)for(var r of s(t))o.call(t,r)&&c(e,r,t[r]);return e})({},l),u={order_id:q},t(n,r(u))));var n,u;1==d&&(i.setKeepList([]),g.replace("/cms/custom/article"))};return(e,t)=>{const r=y("el-button");return d(),n("div",x,[u("div",P,[m(j),u("div",k,[m(r,{class:"bdc_btn",onClick:t[0]||(t[0]=t=>e.$router.push("/cms/custom"))},{default:b((()=>[D])),_:1}),m(r,{type:"primary",onClick:A},{default:b((()=>[I])),_:1})])]),u("div",K,[m(_,{ref_key:"addRef",ref:z,needimg:"",onSuccess:C},null,512)])])}}}),[["__scopeId","data-v-edd1024c"]]);export{q as default};
