var t=Object.defineProperty,e=Object.defineProperties,a=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,i=(e,a,s)=>a in e?t(e,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[a]=s;import{G as c,g as l,o as n,H as d,a as m,I as u,w as p,C as b,a1 as f,aw as v,ax as j,az as y,av as _,b as O}from"./vue.73bee448.js";import{D as h}from"./DetailsHeader.17be1c46.js";import{t as g}from"./tip.19edb433.js";import{K as w}from"./KzAddArticle.955341ec.js";import{e as x,j as P}from"./custom.8dc21408.js";import{m as k}from"./index.f6907697.js";import{_ as C}from"./index.83d90a4b.js";import"./login.486a2ba7.js";import"./request.aac31659.js";import"./index.ddcc2e3e.js";const D=t=>(v("data-v-2a921bf0"),t=t(),j(),t),I={class:"article_add"},K={class:"addform"},q={class:"fjend btns"},z=f("返回"),A=f("提交"),H={class:"form_content"},S={class:"tip fcs"},E=["src"],F=D((()=>u("span",null,"请注意：根据国家相关法律法规要求，切勿发布任何色情、低俗、涉政等违法违规内容。一旦出现，我们将会根据法规进行审核处理。",-1)));var G=C(c({setup(t){const c=k(),f=y(),v=_(),j=f.query.id;j&&x({id:j}).then((t=>{C.value.setForm({thumb_url:t.body.thumb_url,title:t.body.title,text:t.body.content})}));const C=l(),D=()=>{C.value.validate().then((t=>{t&&C.value.submit()}))},G=async t=>{const l={content:t.text,thumb_url:t.thumb_url,title:t.title},{status:n}=await P((d=((t,e)=>{for(var a in e||(e={}))r.call(e,a)&&i(t,a,e[a]);if(s)for(var a of s(e))o.call(e,a)&&i(t,a,e[a]);return t})({},l),m={order_id:j},e(d,a(m))));var d,m;1==n&&(c.setKeepList([]),v.replace("/cms/custom/article"))};return(t,e)=>{const a=O("el-button");return n(),d("div",I,[m(h),u("div",K,[u("div",q,[m(a,{class:"bdc_btn",onClick:e[0]||(e[0]=e=>t.$router.push("/cms/custom"))},{default:p((()=>[z])),_:1}),m(a,{type:"primary",onClick:D},{default:p((()=>[A])),_:1})]),u("div",H,[u("div",S,[u("img",{src:b(g),alt:""},null,8,E),F]),m(w,{ref_key:"addRef",ref:C,needimg:"",onSuccess:G},null,512)])])])}}}),[["__scopeId","data-v-2a921bf0"]]);export{G as default};
