import{G as e,u as a,g as l,j as s,o as t,H as d,a as u,w as r,I as o,c as i,a0 as c,a1 as m,a2 as n,C as f,_ as p,$ as v,aw as y,ax as _,az as b,b as g}from"./vue.73bee448.js";import{M as k}from"./Mypage.aeab91fd.js";import{M as j}from"./MyEmpty.05634dfb.js";import{D as h}from"./DetailsHeader.17be1c46.js";import{e as w,f as z}from"./users.11a14a43.js";import{f as C}from"./date.23847c74.js";import{m as V}from"./index.f6907697.js";import{b as M,a as x}from"./index.ddcc2e3e.js";import{_ as U}from"./index.83d90a4b.js";import"./empty.f131d8fb.js";import"./request.aac31659.js";import"./login.486a2ba7.js";const q=e=>(y("data-v-00c2b66d"),e=e(),_(),e),D={class:"companydetails_page"},H={class:"fsc f1"},F=q((()=>o("span",null,"产品与服务",-1))),I=m("+ 添加"),E={class:"flex mt20"},G=["src"],R=["src"],$=q((()=>o("div",{class:"fw600"},"已购产品",-1))),A={class:"fjend"},B=m("新增"),J={class:"addbox"},K={class:"fjend"},L=m("确定"),N=m("取消"),O={class:"fcc"},P=m(" 确定 "),Q=m(" 取消 ");var S=U(e({setup(e){const y=V(),_=a((()=>y.state.typeHash)),U=b().query.id,q=l([]),S=l(1),T=l(20),W=l(0),X=async()=>{const e=await w({size:T.value,current:S.value,cid:U});1==e.status&&(q.value=e.body.records,W.value=e.body.total)};X();const Y=l({});(async()=>{const e=await z({cid:U});1==e.status&&(e.body.license=e.body.license.split(","),Y.value=e.body)})();const Z=l(!1),ee=l(!1),ae=l(),le=s({time:"",id:""}),se=s({time:[{required:!0,message:"请选择产品！",trigger:"change"}],id:[{required:!0,message:"请选择有效期！",trigger:"change"}]}),te=()=>{ae.value.resetFields(),ee.value=!1},de=()=>{te(),Z.value=!1};return(e,a)=>{const l=g("el-button"),s=g("el-card"),y=g("el-table-column"),b=g("el-table"),w=g("el-descriptions-item"),z=g("el-link"),V=g("el-descriptions"),U=g("el-select"),ue=g("el-form-item"),re=g("el-date-picker"),oe=g("el-form"),ie=g("el-drawer");return t(),d("div",D,[u(h),u(s,{class:"mycard mt20"},{header:r((()=>[o("div",H,[F,3==Y.value.status?(t(),i(l,{key:0,type:"primary",onClick:a[0]||(a[0]=e=>Z.value=!0)},{default:r((()=>[I])),_:1})):c("",!0)])])),_:1}),o("div",E,[u(s,{class:"mycard mr20 f1",header:"用户信息"},{default:r((()=>[u(b,{data:q.value,border:""},{empty:r((()=>[u(j)])),default:r((()=>[u(y,{prop:"name",label:"用户名"}),u(y,{prop:"mobile",label:"电话"}),u(y,{prop:"create_time",label:"注册时间"},{default:r((({row:e})=>[m(n(f(C)(new Date(e.create_time),"yyyy-MM-dd")),1)])),_:1})])),_:1},8,["data"]),u(k,{total:W.value,page:S.value,"onUpdate:page":a[1]||(a[1]=e=>S.value=e),onChange:X,size:T.value,"onUpdate:size":a[2]||(a[2]=e=>T.value=e)},null,8,["total","page","size"])])),_:1}),u(s,{class:"card1 f1"},{default:r((()=>[u(V,{column:1},{default:r((()=>[u(w,{label:"企业名称"},{default:r((()=>[m(n(Y.value.name),1)])),_:1}),Y.value.industry_id?(t(),i(w,{key:0,label:"所属行业"},{default:r((()=>[m(n(f(M)(Y.value.industry_id.split(","),f(_))),1)])),_:1})):c("",!0),u(w,{label:"统一社会信用代码","label-class-name":"icode"},{default:r((()=>[m(n(Y.value.code),1)])),_:1}),u(w,{label:"资质照片"},{default:r((()=>[Y.value.license&&Y.value.license[0]?(t(),d("img",{key:0,src:Y.value.license[0],alt:"",class:"zzimg lookhover",onClick:a[3]||(a[3]=e=>f(x)(Y.value.license,0))},null,8,G)):c("",!0),Y.value.license&&Y.value.license[1]?(t(),d("img",{key:1,src:Y.value.license[1],alt:"",class:"zzimg lookhover ml20",onClick:a[4]||(a[4]=e=>f(x)(Y.value.license,1))},null,8,R)):c("",!0)])),_:1}),Y.value.left_time?(t(),i(w,{key:1,label:"证照有效期"},{default:r((()=>[m(n(4102415999e3==Y.value.left_time?"永久":f(C)(new Date(Y.value.left_time),"yyyy-MM-dd")),1)])),_:1})):c("",!0),u(w,{label:"联系人"},{default:r((()=>[m(n(Y.value.legal_person),1)])),_:1}),u(w,{label:"联系电话"},{default:r((()=>[m(n(Y.value.contact),1)])),_:1}),u(w,{label:"注册地址"},{default:r((()=>[m(n(Y.value.address),1)])),_:1}),u(w,{label:"官网地址"},{default:r((()=>[u(z,{type:"primary",href:"//"+Y.value.url,target:"_blank"},{default:r((()=>[m(n(Y.value.url),1)])),_:1},8,["href"])])),_:1}),u(w,{label:"经营范围"},{default:r((()=>[m(n(Y.value.business_scope),1)])),_:1})])),_:1})])),_:1})]),u(ie,{modelValue:Z.value,"onUpdate:modelValue":a[8]||(a[8]=e=>Z.value=e),onClose:de},{title:r((()=>[$])),footer:r((()=>[o("div",O,[u(l,{type:"primary"},{default:r((()=>[P])),_:1}),u(l,{onClick:de},{default:r((()=>[Q])),_:1})])])),default:r((()=>[o("div",A,[u(l,{type:"primary",onClick:a[5]||(a[5]=e=>ee.value=!0)},{default:r((()=>[B])),_:1})]),p(o("div",J,[u(oe,{model:f(le),rules:f(se),ref_key:"addFormRef",ref:ae},{default:r((()=>[u(ue,{label:" 产品",prop:"id"},{default:r((()=>[u(U,{modelValue:f(le).id,"onUpdate:modelValue":a[6]||(a[6]=e=>f(le).id=e),placeholder:"请选择产品"},null,8,["modelValue"])])),_:1}),u(ue,{label:"有效期",prop:"time"},{default:r((()=>[u(re,{modelValue:f(le).time,"onUpdate:modelValue":a[7]||(a[7]=e=>f(le).time=e),placeholder:"请选择有效期"},null,8,["modelValue"])])),_:1}),o("div",K,[u(l,{type:"primary"},{default:r((()=>[L])),_:1}),u(l,{class:"ml20",onClick:te},{default:r((()=>[N])),_:1})])])),_:1},8,["model","rules"])],512),[[v,ee.value]])])),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-00c2b66d"]]);export{S as default};
