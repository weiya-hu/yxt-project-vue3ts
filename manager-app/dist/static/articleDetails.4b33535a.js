import{G as s,b as t,o as a,H as e,a as i,w as n,I as o,a2 as l,C as c,a0 as d,W as u,V as r,aw as f,ax as m,g as b,c as v,a1 as p,az as _}from"./vue.73bee448.js";import{m as j}from"./index.1d8a12f4.js";import{D as y}from"./DetailsHeader.36b626e2.js";import{f as x}from"./date.23847c74.js";import{_ as w}from"./index.1bbbc36a.js";import{j as O,u as N,l as g}from"./service.15609db0.js";import"./login.176baa88.js";import"./request.68f2d717.js";import"./index.2f69722d.js";const k=s=>(f("data-v-27284439"),s=s(),m(),s),H={class:"article_details_component"},h={class:"title pt16"},D={class:"fcs info mb16"},L=k((()=>o("div",null,"分类：",-1))),q={class:"info_content mr20"},C=k((()=>o("div",null,"查看量：",-1))),I={class:"info_content mr20"},M=k((()=>o("div",null,"发布事件：",-1))),T={key:0,class:"info_content mr20"},z={key:0,class:"status fcs"},G={class:"btns pt20"},K=["innerHTML"];var V=w(s({props:{info:null,statusObj:{default:()=>({1:{className:"sdot_b",text:"草稿"},2:{className:"sdot_r",text:"离线"},3:{className:"sdot_g",text:"在线"}})},typeObj:{default:()=>({0:""})}},setup:s=>(f,m)=>{const b=t("el-card");return a(),e("div",H,[i(b,{class:"mycard mt16 mb16"},{default:n((()=>[o("div",h,l(s.info.title),1),o("div",D,[L,o("div",q,l(s.typeObj[Number(s.info.article_type)]),1),C,o("div",I,l(s.info.hits),1),M,s.info.create_time?(a(),e("div",T,l(c(x)(new Date(s.info.create_time))),1)):d("",!0)]),s.statusObj[s.info.status]?(a(),e("div",z,[o("div",{class:u(["status_dot",s.statusObj[s.info.status].className])},null,2),o("div",null,l(s.statusObj[s.info.status].text),1)])):d("",!0),o("div",G,[r(f.$slots,"btns",{},void 0,!0)])])),_:3}),i(b,{class:"mycard mt16 content"},{default:n((()=>[o("div",{innerHTML:s.info.text,class:"line_height_no"},null,8,K)])),_:1})])}}),[["__scopeId","data-v-27284439"]]);const W={class:"article_details"},$=s({setup(s){const o=_().query.id,c=b({});(async()=>{const{status:s,body:t}=await O();1==s&&(c.value=t,r())})();const u=b({}),r=async()=>{const{status:s,body:t}=await N({id:o});1==s&&(u.value=t)},f=j(),m=async()=>{1==(await g({id:o,status:2==u.value.status?3:2})).status&&(r(),f.setKeepList([]))};return(s,o)=>{const r=t("el-button");return a(),e("div",W,[i(y),i(V,{info:u.value,"type-obj":c.value},{btns:n((()=>[1!=u.value.status?(a(),v(r,{key:0,class:"bdc_btn",onClick:m},{default:n((()=>[p(l(2==u.value.status?"上线":"下线"),1)])),_:1})):d("",!0)])),_:1},8,["info","type-obj"])])}}});export{$ as default};
