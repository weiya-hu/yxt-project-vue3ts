var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,c=(t,a,r)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r;import{G as i,g as l,o as n,H as d,I as u,a as m,w as b,a1 as p,az as f,av as v,b as y}from"./vue.73bee448.js";import{D as j}from"./DetailsHeader.3080e1da.js";import{K as _}from"./KzAddArticle.76869b4e.js";import{d as h,h as O}from"./custom.a35935a3.js";import{m as w}from"./index.539b9ec6.js";import{_ as g}from"./index.725446a3.js";import"./login.43d0a44a.js";import"./request.fdae0f3f.js";import"./index.0c4cefbc.js";const x={class:"add_article"},P={class:"fsc"},k={class:"btns"},D=p("返回"),I=p("提交"),K={class:"aw"};var q=g(i({setup(e){const i=w(),p=f(),g=v(),q=p.query.id;q&&h({id:q}).then((e=>{z.value.setForm({thumb_url:e.body.thumb_url,title:e.body.title,text:e.body.content})}));const z=l(),A=()=>{z.value.validate().then((e=>{e&&z.value.submit()}))},C=async e=>{const l={content:e.text,thumb_url:e.thumb_url,title:e.title},{status:n}=await O((d=((e,t)=>{for(var a in t||(t={}))s.call(t,a)&&c(e,a,t[a]);if(r)for(var a of r(t))o.call(t,a)&&c(e,a,t[a]);return e})({},l),u={order_id:q},t(d,a(u))));var d,u;1==n&&(i.setKeepList([]),g.replace("/cms/custom/article"))};return(e,t)=>{const a=y("el-button");return n(),d("div",x,[u("div",P,[m(j),u("div",k,[m(a,{class:"bdc_btn",onClick:t[0]||(t[0]=t=>e.$router.push("/cms/custom"))},{default:b((()=>[D])),_:1}),m(a,{type:"primary",onClick:A},{default:b((()=>[I])),_:1})])]),u("div",K,[m(_,{ref_key:"addRef",ref:z,needimg:"",onSuccess:C},null,512)])])}}}),[["__scopeId","data-v-774b5cfc"]]);export{q as default};
