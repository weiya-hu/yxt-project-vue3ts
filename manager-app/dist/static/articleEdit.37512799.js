var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,c=(t,a,s)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s,i=(e,t)=>{for(var a in t||(t={}))r.call(t,a)&&c(e,a,t[a]);if(s)for(var a of s(t))o.call(t,a)&&c(e,a,t[a]);return e},l=(e,s)=>t(e,a(s));import{G as d,g as n,o as u,H as m,I as b,a as p,w as f,C as v,a1 as j,aw as y,ax as _,az as O,av as h,b as w}from"./vue.73bee448.js";import{D as g}from"./DetailsHeader.04989b1a.js";import{t as x}from"./tip.19edb433.js";import{K as k}from"./KzAddArticle.eb5db19d.js";import{e as P,k as C,j as D}from"./custom.621e226c.js";import{m as I}from"./index.4593ca48.js";import{_ as K}from"./index.2ae254bd.js";import"./login.f44d1550.js";import"./request.b31e1908.js";import"./index.aeb80721.js";const q=e=>(y("data-v-0fc9cec8"),e=e(),_(),e),z={class:"article_add"},A={class:"fsc"},H={class:"fjend btns"},S=j("返回"),E=j("保存"),F=j("完成"),G={class:"addform"},L={class:"tip fcs"},R=["src"],$=q((()=>b("span",null,"请注意：根据国家相关法律法规要求，切勿发布任何色情、低俗、涉政等违法违规内容。一旦出现，我们将会根据法规进行审核处理。",-1)));var B=K(d({setup(e){const t=I(),a=O(),s=h(),r=a.query.id;r&&P({id:r}).then((e=>{o.value.setForm({thumb_url:e.body.thumb_url,title:e.body.title,text:e.body.content})}));const o=n(),c=n(1),d=e=>{c.value=e,o.value.validate().then((e=>{e&&o.value.submit()}))},j=async e=>{const a={content:e.text,thumb_url:e.thumb_url,title:e.title},{status:o}=1==c.value?await C(l(i({},a),{order_id:r})):await D(l(i({},a),{order_id:r}));1==o&&(t.setKeepList([]),s.replace("/cms/custom/article"))};return(e,t)=>{const a=w("el-button");return u(),m("div",z,[b("div",A,[p(g)]),b("div",H,[p(a,{class:"bdc_btn",onClick:t[0]||(t[0]=t=>e.$router.push("/cms/custom"))},{default:f((()=>[S])),_:1}),p(a,{class:"bdc_btn",onClick:t[1]||(t[1]=e=>d(1))},{default:f((()=>[E])),_:1}),p(a,{type:"primary",onClick:t[2]||(t[2]=e=>d(2))},{default:f((()=>[F])),_:1})]),b("div",G,[b("div",L,[b("img",{src:v(x),alt:""},null,8,R),$]),p(k,{ref_key:"addRef",ref:o,needimg:"",onSuccess:j},null,512)])])}}}),[["__scopeId","data-v-0fc9cec8"]]);export{B as default};
