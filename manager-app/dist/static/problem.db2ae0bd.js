var e=Object.defineProperty,l=Object.defineProperties,a=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,t=(l,a,r)=>a in l?e(l,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[a]=r;import{M as u}from"./Mypage.e0572b95.js";import{M as d}from"./MyEmpty.4bf64012.js";import{M as p}from"./MyDialog.6c30b2a5.js";import{c as i,e as c,f as m}from"./service.793fd7e4.js";import{_ as n,l as v}from"./index.2ae254bd.js";import{e as b}from"./edit.6948c01c.js";import{G as f,g as _,j as y,o as g,H as w,a as j,w as V,I as k,P as h,aa as x,c as C,C as q,aw as O,ax as U,a1 as z,b as M,a2 as P}from"./vue.73bee448.js";import"./empty.f131d8fb.js";import"./request.b31e1908.js";const I=e=>(O("data-v-a3306eda"),e=e(),U(),e),D={class:"problem_page"},E={class:"fsc f1"},F=I((()=>k("div",null,"问题列表",-1))),S=z("创建"),A={key:0,class:"problem_list"},G={class:"problem_top fsc"},H={class:"fcs"},Q=I((()=>k("div",null,"分类：",-1))),R=I((()=>k("div",{class:"problem_line"},null,-1))),B={class:"problem_bt"},J={class:"problem_q fcs"},K=I((()=>k("div",{class:"qa_icon q_icon fcc"},"Q",-1))),L={class:"problem_q_text"},N={class:"problem_a fcs"},T=I((()=>k("div",{class:"qa_icon a_icon fcc"},"A",-1))),W={class:"problem_a_text"},X={class:"fcs fjend mt20"},Y=z("取消"),Z=z("确定");var $=n(f({setup(e){const n=_(1),f=_(20),O=_(0),U=_([]),I=async()=>{const{status:e,body:l}=await i({size:f.value,current:n.value});1==e&&(O.value=l.total,U.value=l.records)};I();const $=()=>{oe.value.resetFields(),re.problem="",re.problem_type="",re.answer="",te.value="",ee.value=!1},ee=_(!1),le=[{value:1,label:"分类一"},{value:2,label:"分类二"},{value:3,label:"分类三"},{value:4,label:"分类四"},{value:5,label:"分类五"}],ae=y({problem_type:[{required:!0,message:"请选择分类！",trigger:"blur"}],problem:[{required:!0,message:"请输入问题！",trigger:"blur"}],answer:[{required:!0,message:"请输入答案！",trigger:"blur"}]}),re=y({problem_type:"",problem:"",answer:""}),oe=_(),se=()=>{oe.value.validate((async e=>{if(e){const{status:e}=await c((u=((e,l)=>{for(var a in l||(l={}))o.call(l,a)&&t(e,a,l[a]);if(r)for(var a of r(l))s.call(l,a)&&t(e,a,l[a]);return e})({},re),d={id:te.value?te.value:""},l(u,a(d))));1==e&&($(),I())}var u,d}))},te=_(""),ue=_(!1),de=async()=>{const{status:e}=await m({id:te.value});1==e&&(I(),ue.value=!1)};return(e,l)=>{const a=M("el-button"),r=M("el-tag"),o=M("el-icon"),s=M("el-card"),t=M("el-option"),i=M("el-select"),c=M("el-form-item"),m=M("el-input"),_=M("el-form"),y=M("el-dialog");return g(),w("div",D,[j(s,{class:"mycard"},{header:V((()=>[k("div",E,[F,j(a,{type:"primary",onClick:l[0]||(l[0]=e=>ee.value=!0)},{default:V((()=>[S])),_:1})])])),default:V((()=>[U.value.length?(g(),w("div",A,[(g(!0),w(h,null,x(U.value,(e=>(g(),w("div",{class:"problem_item",key:e.id},[k("div",G,[k("div",H,[Q,j(r,null,{default:V((()=>{var l;return[z(P(null==(l=le.find((l=>l.value==e.problem_type)))?void 0:l.label),1)]})),_:2},1024)]),k("div",null,[j(o,{size:"18px",class:"mr20 dfcolor chover",onClick:l=>(e=>{ee.value=!0,te.value=e.id,re.problem_type=e.problem_type,re.problem=e.problem,re.answer=e.answer})(e)},{default:V((()=>[j(q(b))])),_:2},1032,["onClick"]),j(o,{size:"18px",class:"dfcolor chover",onClick:l=>{return a=e.id,te.value=a,void(ue.value=!0);var a}},{default:V((()=>[j(q(v))])),_:2},1032,["onClick"])])]),R,k("div",B,[k("div",J,[K,k("div",L,P(e.problem),1)]),k("div",N,[T,k("div",W,P(e.answer),1)])])])))),128))])):(g(),C(d,{key:1})),j(u,{total:O.value,page:n.value,"onUpdate:page":l[1]||(l[1]=e=>n.value=e),onChange:I,size:f.value,"onUpdate:size":l[2]||(l[2]=e=>f.value=e)},null,8,["total","page","size"])])),_:1}),j(y,{modelValue:ee.value,"onUpdate:modelValue":l[6]||(l[6]=e=>ee.value=e),title:te.value?"编辑问题":"创建问题",width:"380px",onClose:$},{default:V((()=>[j(_,{model:q(re),rules:q(ae),ref_key:"addFormRef",ref:oe},{default:V((()=>[j(c,{label:"分类：",prop:"problem_type"},{default:V((()=>[j(i,{modelValue:q(re).problem_type,"onUpdate:modelValue":l[3]||(l[3]=e=>q(re).problem_type=e),placeholder:"请选择问题分类",class:"f1"},{default:V((()=>[(g(),w(h,null,x(le,(e=>j(t,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),64))])),_:1},8,["modelValue"])])),_:1}),j(c,{label:"问题：",prop:"problem"},{default:V((()=>[j(m,{modelValue:q(re).problem,"onUpdate:modelValue":l[4]||(l[4]=e=>q(re).problem=e),type:"textarea",rows:3,placeholder:"请输入问题"},null,8,["modelValue"])])),_:1}),j(c,{label:"答案：",prop:"answer"},{default:V((()=>[j(m,{modelValue:q(re).answer,"onUpdate:modelValue":l[5]||(l[5]=e=>q(re).answer=e),type:"textarea",rows:5,placeholder:"请输入答案"},null,8,["modelValue"])])),_:1}),k("div",X,[j(a,{onClick:$},{default:V((()=>[Y])),_:1}),j(a,{type:"primary",onClick:se},{default:V((()=>[Z])),_:1})])])),_:1},8,["model","rules"])])),_:1},8,["modelValue","title"]),j(p,{modelValue:ue.value,"onUpdate:modelValue":l[7]||(l[7]=e=>ue.value=e),msg:"确认删除此问题?",onSure:de},null,8,["modelValue"])])}}}),[["__scopeId","data-v-a3306eda"]]);export{$ as default};
