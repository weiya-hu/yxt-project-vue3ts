var e=Object.defineProperty,t=Object.defineProperties,s=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,c=(t,s,a)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a,i=(e,t)=>{for(var s in t||(t={}))r.call(t,s)&&c(e,s,t[s]);if(a)for(var s of a(t))o.call(t,s)&&c(e,s,t[s]);return e},l=(e,a)=>t(e,s(a));import{G as d,g as n,o as u,H as m,I as b,a as p,w as f,a1 as v,az as j,av as y,b as _}from"./vue.73bee448.js";import{D as h}from"./DetailsHeader.945bd2c0.js";import{K as O}from"./KzAddArticle.4cf9b08c.js";import{d as w,j as g,h as x}from"./custom.cb8bce84.js";import{m as P}from"./index.e7a3094c.js";import{_ as k}from"./index.e7872df1.js";import"./tinymce.5416ef76.js";import"./login.df5d82cd.js";import"./request.7878c8f3.js";import"./index.3ae96932.js";const C={class:"add_article"},D={class:"fsc"},I={class:"btns"},K=v("返回"),q=v("保存"),z=v("完成"),A={class:"aw"};var H=k(d({setup(e){const t=P(),s=j(),a=y(),r=s.query.id;r&&w({id:r}).then((e=>{o.value.setForm({thumb_url:e.body.thumb_url,title:e.body.title,text:e.body.content})}));const o=n(),c=n(1),d=e=>{c.value=e,o.value.validate().then((e=>{e&&o.value.submit()}))},v=async e=>{const s={content:e.text,thumb_url:e.thumb_url,title:e.title},{status:o}=1==c.value?await g(l(i({},s),{order_id:r})):await x(l(i({},s),{order_id:r}));1==o&&(t.setKeepList([]),a.replace("/cms/custom/article"))};return(e,t)=>{const s=_("el-button");return u(),m("div",C,[b("div",D,[p(h),b("div",I,[p(s,{class:"bdc_btn",onClick:t[0]||(t[0]=t=>e.$router.push("/cms/custom"))},{default:f((()=>[K])),_:1}),p(s,{class:"bdc_btn",onClick:t[1]||(t[1]=e=>d(1))},{default:f((()=>[q])),_:1}),p(s,{type:"primary",onClick:t[2]||(t[2]=e=>d(2))},{default:f((()=>[z])),_:1})])]),b("div",A,[p(O,{ref_key:"addRef",ref:o,needimg:"",onSuccess:v},null,512)])])}}}),[["__scopeId","data-v-6034ab9d"]]);export{H as default};
