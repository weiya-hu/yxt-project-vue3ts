import{t as a,u as e,v as l,w as t}from"./service.793fd7e4.js";import{M as s}from"./MyEmpty.4bf64012.js";import{M as d}from"./MyDialog.6c30b2a5.js";import{M as o}from"./MyPage.d1b769b5.js";import{G as u,g as n,o as r,H as i,a as c,w as m,I as p,ab as v,a1 as f,a2 as b,W as y,b as _}from"./vue.73bee448.js";import"./request.b31e1908.js";import"./index.2ae254bd.js";import"./empty.f131d8fb.js";const g={class:"feedback_page"},w=p("div",null,"反馈列表",-1),j={class:"mytable"},k={class:"fcs"},M={class:"fcs"},z=f("修改状态"),C=f("已处理"),h=f("未处理"),U=p("div",{class:"line"},null,-1),V=f("删除"),x=u({setup(u){const x=n([]);(async()=>{const{status:e,body:l}=await a();1==e&&(x.value=l)})();const q=n([]),D=n(1),E=n(20),G=n(0),H=async()=>{const{status:a,body:l}=await e({size:E.value,current:D.value});1==a&&(G.value=l.total,q.value=l.records)};H();const I=async a=>{const{status:e}=await l({id:a[1],status:a[0]});1==e&&H()},P=n(""),S=n(!1),W=async()=>{1==(await t({id:P.value})).status&&(S.value=!1,H())};return(a,e)=>{const l=_("el-table-column"),t=_("el-link"),u=_("el-dropdown-item"),n=_("el-dropdown-menu"),A=_("el-dropdown"),B=_("el-table"),F=_("el-card");return r(),i("div",g,[c(F,{class:"mycard"},{header:m((()=>[w])),default:m((()=>[p("div",j,[c(B,{data:q.value,border:"",draggable:""},{empty:m((()=>[c(s)])),default:m((()=>[c(l,{label:"类型"},v({_:2},[x.value.length?{name:"default",fn:m((({row:a})=>[f(b(x.value.find((e=>e.id==a.feedback_type)).feedback_type),1)]))}:void 0]),1024),c(l,{prop:"content",label:"反馈内容"}),c(l,{prop:"mobile",label:"联系电话"}),c(l,{prop:"status",label:"处理状态"},{default:m((({row:a})=>[p("div",k,[p("div",{class:y(["status_dot",1==a.status?"sdot_g":"sdot_r"])},null,2),p("div",null,b(1==a.status?"已处理":"未处理"),1)])])),_:1}),c(l,{label:"操作"},{default:m((({row:a})=>[p("div",M,[c(A,{trigger:"click",onCommand:I},{dropdown:m((()=>[c(n,null,{default:m((()=>[c(u,{command:[1,a.id]},{default:m((()=>[C])),_:2},1032,["command"]),c(u,{command:[0,a.id]},{default:m((()=>[h])),_:2},1032,["command"])])),_:2},1024)])),default:m((()=>[c(t,{type:"primary"},{default:m((()=>[z])),_:1})])),_:2},1024),U,c(t,{type:"primary",onClick:e=>{return l=a.id,P.value=l,void(S.value=!0);var l}},{default:m((()=>[V])),_:2},1032,["onClick"])])])),_:1})])),_:1},8,["data"])]),c(o,{total:G.value,page:D.value,"onUpdate:page":e[0]||(e[0]=a=>D.value=a),onChange:H,size:E.value,"onUpdate:size":e[1]||(e[1]=a=>E.value=a)},null,8,["total","page","size"])])),_:1}),c(d,{modelValue:S.value,"onUpdate:modelValue":e[2]||(e[2]=a=>S.value=a),msg:"此反馈记录删除后无法撤回，请谨慎删除！",onSure:W},null,8,["modelValue"])])}}});export{x as default};
