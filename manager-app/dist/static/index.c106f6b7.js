import{g as s}from"./index.43fc5bae.js";import{a as e,b as t,c as r,e as o,f as i}from"./login.093db1df.js";import{g as a}from"./index.71ace796.js";import{j as n}from"./vue.73bee448.js";const d=s("mainStore",(()=>{const s=n({yxtUrl:{},userLv:[],userInfo:{},typeList:[],typeHash:{},addressList:[],addressHash:{},keepList:[]});return{state:s,setTypeList:()=>new Promise(((t,r)=>{s.typeList.length?t(s.typeList):e().then((e=>{s.typeList=e.body,s.typeHash=a(e.body,"industry_id"),t(s.typeList)})).catch((s=>{r(s)}))})),setAddressList:()=>new Promise(((e,r)=>{s.addressList.length?e(s.addressList):t().then((t=>{s.addressList=t.body,s.addressHash=a(t.body,"code"),e(s.addressList)})).catch((s=>{r(s)}))})),setKeepList:e=>{s.keepList=e},setUserinfo:()=>new Promise(((e,t)=>{s.userInfo.buid?e(s.userInfo):r().then((r=>{1==r.status?(s.userInfo=r.body,sessionStorage.setItem("islogin","1"),e(s.userInfo)):(s.userInfo={},sessionStorage.removeItem("islogin"),t(r.message))})).catch((e=>{s.userInfo={},sessionStorage.removeItem("islogin"),t(e)}))})),setUserLv:e=>new Promise(((t,r)=>{e?(s.userLv=e,t(s.userLv)):o().then((e=>{1==e.status?(s.userLv=e.body.map((s=>String(s))),t(s.userLv)):r([])})).catch((s=>{r([])}))})),getYxtUrl:()=>new Promise(((e,t)=>{i().then((r=>{1==r.status?(s.yxtUrl=r.body,e(r.body)):t(r.message)})).catch((s=>{t(s)}))}))}}));export{d as m};
