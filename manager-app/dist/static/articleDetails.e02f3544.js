var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,c=(t,r,s)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s;import{G as i,g as l,o as n,H as d,I as u,a as m,w as p,a1 as b,az as f,av as v,b as y}from"./vue.73bee448.js";import{D as j}from"./DetailsHeader.1ecbc33e.js";import{K as _}from"./KzAddArticle.ccccd994.js";import{d as h,h as O}from"./custom.b2fe2c3a.js";import{m as w}from"./index.f61f506c.js";import{_ as g}from"./index.4a788974.js";import"./login.a80e1ce3.js";import"./request.71e82bfd.js";import"./index.c36e50f5.js";const x={class:"add_article"},P={class:"fsc"},k={class:"btns"},D=b("返回"),I=b("提交"),K={class:"aw"};var q=g(i({setup(e){const i=w(),b=f(),g=v(),q=b.query.id;q&&h({id:q}).then((e=>{z.value.setForm({thumb_url:e.body.thumb_url,title:e.body.title,text:e.body.content})}));const z=l(),A=()=>{z.value.validate().then((e=>{e&&z.value.submit()}))},C=async e=>{const l={content:e.text,thumb_url:e.thumb_url,title:e.title},{status:n}=await O((d=((e,t)=>{for(var r in t||(t={}))a.call(t,r)&&c(e,r,t[r]);if(s)for(var r of s(t))o.call(t,r)&&c(e,r,t[r]);return e})({},l),u={order_id:q},t(d,r(u))));var d,u;1==n&&(i.setKeepList([]),g.replace("/cms/custom/article"))};return(e,t)=>{const r=y("el-button");return n(),d("div",x,[u("div",P,[m(j),u("div",k,[m(r,{class:"bdc_btn",onClick:t[0]||(t[0]=t=>e.$router.push("/cms/custom"))},{default:p((()=>[D])),_:1}),m(r,{type:"primary",onClick:A},{default:p((()=>[I])),_:1})])]),u("div",K,[m(_,{ref_key:"addRef",ref:z,needimg:"",onSuccess:C},null,512)])])}}}),[["__scopeId","data-v-edd1024c"]]);export{q as default};
