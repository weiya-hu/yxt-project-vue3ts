var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,i=(t,a,r)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r;import{G as c,g as l,o as d,H as n,I as u,a as b,w as m,a1 as p,az as f,av as v,b as y}from"./vue.73bee448.js";import{D as j}from"./DetailsHeader.b84bab8d.js";import{K as _}from"./KzAddArticle.feacbb22.js";import{d as h,h as O}from"./custom.f2dca632.js";import{m as w}from"./index.fd3330ea.js";import{_ as g}from"./index.69d32547.js";import"./login.b5af171c.js";import"./request.d2675abe.js";import"./index.188a36b0.js";const x={class:"add_article"},P={class:"fsc"},k={class:"btns"},D=p("返回"),I=p("提交"),K={class:"aw"};var q=g(c({setup(e){const c=w(),p=f(),g=v(),q=p.query.id;q&&h({id:q}).then((e=>{z.value.setForm({thumb_url:e.body.thumb_url,title:e.body.title,text:e.body.content})}));const z=l(),A=()=>{z.value.validate().then((e=>{e&&z.value.submit()}))},C=async e=>{const l={content:e.text,thumb_url:e.thumb_url,title:e.title},{status:d}=await O((n=((e,t)=>{for(var a in t||(t={}))s.call(t,a)&&i(e,a,t[a]);if(r)for(var a of r(t))o.call(t,a)&&i(e,a,t[a]);return e})({},l),u={order_id:q},t(n,a(u))));var n,u;1==d&&(c.setKeepList([]),g.replace("/cms/custom/article"))};return(e,t)=>{const a=y("el-button");return d(),n("div",x,[u("div",P,[b(j),u("div",k,[b(a,{class:"bdc_btn",onClick:t[0]||(t[0]=t=>e.$router.push("/cms/custom"))},{default:m((()=>[D])),_:1}),b(a,{type:"primary",onClick:A},{default:m((()=>[I])),_:1})])]),u("div",K,[b(_,{ref_key:"addRef",ref:z,needimg:"",onSuccess:C},null,512)])])}}}),[["__scopeId","data-v-774b5cfc"]]);export{q as default};
