var e=Object.defineProperty,a=Object.defineProperties,l=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,o=(a,l,t)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[l]=t;import{f as i}from"./date.23847c74.js";import{M as u}from"./MyEmpty.fe54fee2.js";import{_ as d}from"./MyPage.b41c257e.js";import{M as c}from"./MyDialog.77763852.js";import{a as n,b as m}from"./myWork.09539945.js";import{a as p}from"./index.45367786.js";import{d as y,i as v,o as f,t as b,v as _,a as k,w,V as h,u as g,L as C,S as j,U as V,av as O,aw as M,b as x}from"./vue.ca737a59.js";const P=e=>(O("data-v-35907903"),e=e(),M(),e),D={class:"m_article"},S={class:"fsc m_topbtn"},z=V(" 创建 "),N={class:"fcs"},U=V("同步SCRM"),W=V("同步官网"),I=V("同步DSP系统"),$={class:"mytable"},A=["src"],E={class:"fcs"},L={class:"staus"},R={key:0,class:"fcs"},q=V("删除"),B=P((()=>_("div",{class:"line"},null,-1))),F=V("编辑"),G={key:1,class:"fcs"},H=V("删除"),J=P((()=>_("div",{class:"line"},null,-1))),K=V("查看"),Q={key:2,class:"fcs"},T=V("删除"),X=P((()=>_("div",{class:"line"},null,-1))),Y=V("拒绝原因"),Z=y((ee=((e,a)=>{for(var l in a||(a={}))s.call(a,l)&&o(e,l,a[l]);if(t)for(var l of t(a))r.call(a,l)&&o(e,l,a[l]);return e})({},{name:"我的作品库-软文"}),a(ee,l({setup(e){const a=v(1),l=v(0),t=v([]),s=async()=>{const e=await n({size:10,current:a.value});1==e.status&&(t.value=e.body.records,l.value=e.body.total)};s();const r=()=>{s()},o=v([]),p=e=>{o.value=e},y=e=>{const a=v();switch(e){case 2:a.value={text:"待审核",className:"cyellow"};break;case 3:a.value={text:"已通过",className:"cdf"};break;case 4:a.value={text:"已拒绝",className:"cred"};break;default:a.value={text:"草稿",className:"cbbb"}}return a.value},V=v(""),O=v(!1),M=e=>{V.value=e,O.value=!0},P=()=>{m({id:V.value}).then((e=>{1==e.status&&(s(),O.value=!1)}))},Z=v(!1),ee=v("");return(e,s)=>{const o=x("el-button"),n=x("el-table-column"),m=x("el-link"),v=x("el-table");return f(),b("div",D,[_("div",S,[k(o,{type:"primary",size:"large",onClick:s[0]||(s[0]=a=>e.$router.push("/myWork/articleAdd"))},{default:w((()=>[z])),_:1}),_("div",N,[k(o,{size:"large"},{default:w((()=>[U])),_:1}),k(o,{size:"large"},{default:w((()=>[W])),_:1}),k(o,{size:"large"},{default:w((()=>[I])),_:1})])]),_("div",$,[k(v,{data:t.value,style:{width:"100%"},onSelectionChange:p},{empty:w((()=>[k(u)])),default:w((()=>[k(n,{type:"selection",width:"50"}),k(n,{property:"id",label:"ID",width:"230"}),k(n,{property:"thumb_url",label:"封面图片",width:"160"},{default:w((({row:e})=>[_("img",{src:e.thumb_url,alt:"",class:"firstimg"},null,8,A)])),_:1}),k(n,{property:"title",label:"标题"}),k(n,{property:"create_time",label:"创建日期",width:"200"},{default:w((({row:e})=>[_("div",null,h(g(i)(new Date(e.create_time),"yyyy-MM-dd")),1)])),_:1}),k(n,{property:"status",label:"状态",width:"180"},{default:w((({row:e})=>[_("div",E,[_("div",{class:C(["dot",y(e.status).className])},null,2),_("div",L,h(y(e.status).text),1)])])),_:1}),k(n,{label:"操作",width:"150"},{default:w((({row:a})=>[1==a.status?(f(),b("div",R,[k(m,{type:"primary",onClick:e=>M(a.id)},{default:w((()=>[q])),_:2},1032,["onClick"]),B,k(m,{type:"primary",onClick:l=>e.$router.push("/myWork/articleAdd?id="+a.id)},{default:w((()=>[F])),_:2},1032,["onClick"])])):j("",!0),2==a.status||3==a.status?(f(),b("div",G,[k(m,{type:"primary",onClick:e=>M(a.id)},{default:w((()=>[H])),_:2},1032,["onClick"]),J,k(m,{type:"primary",onClick:l=>e.$router.push("/myWork/articleDetails?id="+a.id)},{default:w((()=>[K])),_:2},1032,["onClick"])])):j("",!0),4==a.status?(f(),b("div",Q,[k(m,{type:"primary",onClick:e=>M(a.id)},{default:w((()=>[T])),_:2},1032,["onClick"]),X,k(m,{type:"primary",onClick:e=>{ee.value=a.fail_reason,Z.value=!0}},{default:w((()=>[Y])),_:2},1032,["onClick"])])):j("",!0)])),_:1})])),_:1},8,["data"])]),k(d,{total:l.value,modelValue:a.value,"onUpdate:modelValue":s[1]||(s[1]=e=>a.value=e),onChange:r},null,8,["total","modelValue"]),k(c,{modelValue:O.value,"onUpdate:modelValue":s[2]||(s[2]=e=>O.value=e),msg:"确认删除这条数据吗?",onSure:P},null,8,["modelValue"]),k(c,{modelValue:Z.value,"onUpdate:modelValue":s[3]||(s[3]=e=>Z.value=e),msg:ee.value,title:"拒绝原因",btn:1},null,8,["modelValue","msg"])])}}}))));var ee,ae=p(Z,[["__scopeId","data-v-35907903"]]);export{ae as default};
