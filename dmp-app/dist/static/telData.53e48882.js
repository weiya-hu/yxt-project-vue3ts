var e=Object.defineProperty,l=Object.defineProperties,a=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,d=(l,a,t)=>a in l?e(l,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[a]=t;import{F as s,f as u,r as p,a as i,G as n,H as c,I as v,X as m,Q as f,K as y,W as b,u as _,P as w,R as g,Y as h,a7 as V,V as j,av as C,O as k,a6 as O}from"./vue.5acda677.js";import{f as M}from"./date.23847c74.js";import{_ as P}from"./MyPage.eca92ca4.js";import{_ as U}from"./MyCascader.abe87dee.js";import{M as z}from"./MyEmpty.4148043d.js";import{_ as D,m as x,j as S,k as I,n as F}from"./index.87c65385.js";import{a as R,b as E,c as H}from"./findC.04fdd141.js";const q={class:"teldata_page_c"},G={class:"topbtns fsc"},K=j("新建人群"),Q={class:"rt fcs"},W=j("同步SCRM"),X=j("同步CMS"),Y=j("同步DSP系统"),A={class:"mytable"},B={class:"fcs"},J=j("查看"),L={key:1},N={class:"fcs fjend"},T=j("取消"),Z=j("提交"),$=s((ee=((e,l)=>{for(var a in l||(l={}))o.call(l,a)&&d(e,a,l[a]);if(t)for(var a of t(l))r.call(l,a)&&d(e,a,l[a]);return e})({},{name:"号码段获客C"}),l(ee,a({setup(e){const l=x(),a=u((()=>l.state.addressHash)),t=C(),o=p(1),r=p(0),d=()=>{R({current:o.value,size:10}).then((e=>{1==e.status&&(s.value=e.body.records,r.value=e.body.total)}))};d();const s=p([]),D=p([]),$=e=>{D.value=e},ee=()=>{d()},le=p([]),ae=p({});E().then((e=>{ae.value=e.body}));const te=e=>{le.value=ae.value[e].segments},oe=p(!1),re=()=>{le.value=[],oe.value=!1,ue.value=!1,pe.value.resetFields()},de=p({people:"",desc:"",addr:[],operator:"",tels:[]}),se=i({people:[{required:!0,message:"请输入人群名称",trigger:"blur"}]}),ue=p(!1),pe=p(),ie=()=>{pe.value.validate((e=>{if(!e)return!1;ue.value=!0,H({city:de.value.addr[1]||0,district:de.value.addr[2]||0,group_desc:de.value.desc,group_name:de.value.people,province:de.value.addr[0]||0,segment:de.value.tels.join()}).then((e=>{1==e.status&&(re(),d()),ue.value=!1}))}))};return(e,l)=>{const d=k("el-button"),u=k("el-table-column"),p=k("el-link"),i=k("el-table"),C=k("el-input"),D=k("el-form-item"),x=k("el-radio"),R=k("el-radio-group"),E=k("el-option"),H=k("el-select"),ne=k("el-form"),ce=k("el-dialog"),ve=O("loading");return n(),c("div",q,[v("div",G,[m(d,{size:"large",type:"primary",onClick:l[0]||(l[0]=e=>oe.value=!0)},{default:f((()=>[K])),_:1}),v("div",Q,[m(d,{size:"large"},{default:f((()=>[W])),_:1}),m(d,{size:"large"},{default:f((()=>[X])),_:1}),m(d,{size:"large"},{default:f((()=>[Y])),_:1})])]),v("div",A,[m(i,{data:s.value,style:{width:"100%"},onSelectionChange:$},{empty:f((()=>[m(z)])),default:f((()=>[m(u,{type:"selection",width:"50"}),m(u,{property:"id",label:"ID",width:"150"}),m(u,{property:"group_name",label:"人群名称",width:"170"}),m(u,{property:"group_desc",label:"人群描述"}),m(u,{property:"status",label:"状态",width:"160"},{default:f((e=>[v("div",B,[v("div",{class:y(["dot",0==e.row.status?"dot_ing":1==e.row.status?"dot_ok":"dot_err"])},null,2),v("div",null,b(0==e.row.status?"计算中":1==e.row.status?"计算完成":"计算失败"),1)])])),_:1}),m(u,{label:"地区"},{default:f((e=>[v("div",null,b(_(S)(_(I)(e.row.province,e.row.city,e.row.district),_(a))),1)])),_:1}),m(u,{property:"count",label:"覆盖用户人数",width:"140"},{default:f((e=>[v("div",null,b(1==e.row.status?e.row.count:"---"),1)])),_:1}),m(u,{property:"create_time",label:"创建日期",width:"190"},{default:f((e=>[v("div",null,b(_(M)(new Date(e.row.create_time),"yyyy-MM-dd")),1)])),_:1}),m(u,{property:"source",label:"来源",width:"140"},{default:f((e=>[v("div",null,b(_(F)(e.row.source)),1)])),_:1}),m(u,{property:"source",label:"操作",width:"150"},{default:f((e=>[0!=e.row.status?(n(),w(p,{key:0,type:"primary",onClick:l=>{return a=e.row.id,void t.push("/findC/telDataDetails?id="+a);var a}},{default:f((()=>[J])),_:2},1032,["onClick"])):(n(),c("div",L,"---"))])),_:1})])),_:1},8,["data"])]),m(P,{total:r.value,modelValue:o.value,"onUpdate:modelValue":l[1]||(l[1]=e=>o.value=e),onChange:ee},null,8,["total","modelValue"]),m(ce,{modelValue:oe.value,"onUpdate:modelValue":l[7]||(l[7]=e=>oe.value=e),title:"新建数据",width:"500px",onClose:re},{default:f((()=>[g((n(),w(ne,{class:"myform",ref_key:"addFormRef",ref:pe,model:de.value,rules:_(se)},{default:f((()=>[m(D,{label:"人群名称",prop:"people"},{default:f((()=>[m(C,{modelValue:de.value.people,"onUpdate:modelValue":l[2]||(l[2]=e=>de.value.people=e),placeholder:"请输入人群名称"},null,8,["modelValue"])])),_:1}),m(D,{label:"选择地区",prop:"addr"},{default:f((()=>[m(U,{modelValue:de.value.addr,"onUpdate:modelValue":l[3]||(l[3]=e=>de.value.addr=e),type:"address"},null,8,["modelValue"])])),_:1}),m(D,{label:"人群描述",prop:"desc"},{default:f((()=>[m(C,{modelValue:de.value.desc,"onUpdate:modelValue":l[4]||(l[4]=e=>de.value.desc=e),placeholder:"可对人群进行简单的描述",type:"textarea",maxlength:"150","show-word-limit":"",rows:"4",resize:"none"},null,8,["modelValue"])])),_:1}),m(D,{label:"运营商",prop:"operator"},{default:f((()=>[m(R,{modelValue:de.value.operator,"onUpdate:modelValue":l[5]||(l[5]=e=>de.value.operator=e),onChange:te},{default:f((()=>[(n(!0),c(h,null,V(ae.value,(e=>(n(),w(x,{label:e.id,key:e.id},{default:f((()=>[j(b(e.name),1)])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue"])])),_:1}),m(D,{label:"号码段",prop:"tels"},{default:f((()=>[m(H,{modelValue:de.value.tels,"onUpdate:modelValue":l[6]||(l[6]=e=>de.value.tels=e),multiple:"",placeholder:"请选择号码段",class:"w100",disabled:0==le.value.length},{default:f((()=>[(n(!0),c(h,null,V(le.value,((e,l)=>(n(),w(E,{key:l,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue","disabled"])])),_:1}),v("div",N,[m(d,{onClick:re},{default:f((()=>[T])),_:1}),m(d,{type:"primary",onClick:ie},{default:f((()=>[Z])),_:1})])])),_:1},8,["model","rules"])),[[ve,ue.value]])])),_:1},8,["modelValue"])])}}}))));var ee,le=D($,[["__scopeId","data-v-cb3ca4f6"]]);export{le as default};
