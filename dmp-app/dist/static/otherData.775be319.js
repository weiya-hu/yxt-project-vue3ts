var a=Object.defineProperty,e=Object.defineProperties,t=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,o=(e,t,s)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,u=(a,e)=>{for(var t in e||(e={}))l.call(e,t)&&o(a,t,e[t]);if(s)for(var t of s(e))r.call(e,t)&&o(a,t,e[t]);return a};import{T as n}from"./TopSearch.02d152d5.js";import{M as c}from"./MyEmpty.35d3267a.js";import{T as v}from"./TopBtns.011048eb.js";import{C as d}from"./CompanyTable.3aa55f88.js";import{_ as i,g as p,b as y,w as b,e as f,s as m,c as h}from"./index.39a5ef0e.js";import{F as j,r as w,f as g,R as O,G as _,H as P,X as S,u as T,a6 as C}from"./vue.5acda677.js";import"./MyCascader.1bbcf912.js";const I={class:"otherdata_page"};var k=i(j({setup(a){const s=w([]),l=()=>{y().then((a=>{s.value=a.body}))};l();const r=w({size:50,current:1,source:2}),o=w(0),i=w([]),j=w(!1),k=w(1),H=w(""),L=async a=>{k.value=1,j.value=!0,r.value.current=1,H.value=a,await M(),l()},M=async()=>{var a,s;await b((a=u({},r.value),s={keywords:H.value},e(a,t(s)))).then((a=>{1==a.status&&(o.value=a.body.total,i.value=a.body.records),j.value=!1})).catch((()=>{f("查询失败"),j.value=!1}))},R=w({}),V=async a=>{j.value=!0,k.value=2,r.value.current=1,R.value=a,await x()},x=async()=>{await m(u(u({},r.value),R.value)).then((a=>{1==a.status&&(o.value=a.body.total,i.value=a.body.records),j.value=!1})).catch((()=>{f("查询失败"),j.value=!1}))},z=()=>{1==k.value?M():x()},B=w(),E=w(),D=g((()=>E.value&&!E.value.selIdList.length)),F=async()=>{B.value.setLoading(!0);const a=await h({list:E.value.selIdList});B.value.close(a.message),E.value.clear()};return(a,e)=>{const t=C("loading");return O((_(),P("div",I,[S(n,{onHeightSearch:V,onSearch:L,words:s.value,hasHeight:!0,placeholder:"请输入企业名称、联系人、经营范围关键词"},null,8,["words"]),S(v,{total:o.value,syncbtn:"",onSync:F,ref_key:"topBtnRef",ref:B,"sync-api":T(p),"sync-disabled":T(D),class:"topbtns"},null,8,["total","sync-api","sync-disabled"]),S(d,{data:i.value,ref_key:"tableRef",ref:E},null,8,["data"]),S(c,{total:o.value,size:50,modelValue:r.value.current,"onUpdate:modelValue":e[0]||(e[0]=a=>r.value.current=a),onChange:z},null,8,["total","modelValue"])])),[[t,j.value]])}}}),[["__scopeId","data-v-545389ae"]]);export{k as default};
