import{M as e}from"./MyDataTable.18ba8470.js";import{a as t,M as a}from"./MyEmpty.543787f1.js";import{_ as l,H as p,I as s,J as o}from"./index.682ca07f.js";import{F as r,r as i,f as d,R as n,u,G as c,H as y,X as b,I as m,Q as h,Y as w,a7 as v,P as f,i as x,U as _,ax as g,O as j,a6 as k}from"./vue.5acda677.js";import{T as M}from"./TopBtns.cae50e13.js";import"./date.23847c74.js";const S={class:"up2b-detail"},z={class:"mytable"};var H=l(r({setup(l){const r=g();let H=i(0),I=i(1),R=i(!1);const T=i([{type:"select",prop:"select",width:30},{type:"num",lable:"序号",prop:"num",width:70},{type:"text",lable:"企业名称",prop:"name",width:130},{type:"text",lable:"联系人",prop:"contact",width:74},{type:"text",lable:"联系方式",prop:"mobiles",width:100},{type:"text",lable:"邮箱",prop:"email",width:100},{type:"country",lable:"地区",prop:"country_id",width:110},{type:"text-tooltip",lable:"公司地址",prop:"address",width:140},{type:"link",lable:"企业官网",prop:"url",width:150},{type:"text-tooltip",lable:"HS编码",prop:"code",width:120},{type:"text",lable:"数量",prop:"product_number",width:90},{type:"text",lable:"重量（kg）",prop:"product_weight",width:100},{type:"text",lable:"出货港口",prop:"shipment_port",width:120},{type:"text",lable:"卸货港口",prop:"unload_port",width:120}]),V=i([]),B=async()=>{R.value=!0;let e={current:I.value,size:50,id:r.query.id};const{status:t,body:a}=await s(e);R.value=!1,t&&(H.value=a.total,V.value=a.records)};B();const C=i([]),U=e=>{C.value=e.map((e=>e.id))},q=i(),D=i(),E=d((()=>!C.value.length)),F=async()=>{D.value.setLoading(!0);const e=await o({list:C.value});D.value.close(e.message),C.value=[],q.value.clearSelection()};return(l,s)=>{const o=j("el-table"),r=k("loading");return n((c(),y("div",S,[b(M,{total:u(H),syncbtn:"",onSync:F,ref_key:"topBtnRef",ref:D,"sync-api":u(p),"sync-disabled":u(E)},null,8,["total","sync-api","sync-disabled"]),m("div",z,[b(o,{data:V.value,size:"large","row-class-name":"my-data-table-row",height:"100%",onSelectionChange:U,ref_key:"tableRef",ref:q},{empty:h((()=>[b(t)])),default:h((()=>[(c(!0),y(w,null,v(T.value,((t,a)=>(c(),f(e,{key:a,type:t.type,width:t.width,lable:t.lable,prop:t.prop},null,8,["type","width","lable","prop"])))),128))])),_:1},8,["data"])]),u(H)?(c(),f(a,{key:0,size:50,total:u(H),modelValue:u(I),"onUpdate:modelValue":s[0]||(s[0]=e=>x(I)?I.value=e:I=e),onChange:B},null,8,["total","modelValue"])):_("",!0)])),[[r,u(R)]])}}}),[["__scopeId","data-v-777d0a0c"]]);export{H as default};
