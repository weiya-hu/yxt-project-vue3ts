import{T as e}from"./TopBtns.e5b3ccd0.js";import{M as a}from"./MyDataTable.c10dcf4d.js";import{a as t,M as l}from"./MyEmpty.0194cb63.js";import{g as s,b as p,s as o}from"./myData.d5a5d332.js";import{F as d,r as i,f as r,R as n,u as y,G as c,H as u,X as b,I as m,Q as h,Y as v,a7 as w,P as f,i as x,U as g,ax as _,O as j,a6 as k}from"./vue.5acda677.js";import{_ as M}from"./index.2af4c4b9.js";import"./date.23847c74.js";const z={class:"up2b-detail"},R={class:"mytable"};var S=M(d({setup(d){const M=_();let S=i(0),T=i(1),V=i(!1);const B=i([{type:"select",prop:"select",width:30},{type:"num",lable:"序号",prop:"num",width:70},{type:"text",lable:"企业名称",prop:"name",width:130},{type:"text",lable:"联系人",prop:"contact",width:74},{type:"text",lable:"联系方式",prop:"mobiles",width:100},{type:"text",lable:"固定电话",prop:"telephone",width:110},{type:"text",lable:"行业分类",prop:"industry_id",width:102},{type:"city",lable:"地区",prop:"region",width:110},{type:"text",lable:"详细地址",prop:"address",width:140},{type:"text",lable:"企业类型",prop:"company_type",width:120},{type:"text",lable:"统一社会信用代码",prop:"code",width:170},{type:"link",lable:"企业官网",prop:"url",width:150},{type:"text-tooltip",lable:"经营范围",prop:"business_scope",width:150}]),C=i([]),D=async()=>{V.value=!0;let e={current:T.value,size:50,id:M.query.id};const{status:a,body:t}=await p(e);V.value=!1,a&&(S.value=t.total,C.value=t.records)};D();const I=i([]),U=e=>{I.value=e.map((e=>e.id))},q=i(),E=i(),F=r((()=>!I.value.length)),G=async()=>{E.value.setLoading(!0);const e=await o({list:I.value,type:1});E.value.close(e.message),I.value=[],q.value.clearSelection()};return(p,o)=>{const d=j("el-table"),i=k("loading");return n((c(),u("div",z,[b(e,{total:y(S),syncbtn:"",onSync:G,ref_key:"topBtnRef",ref:E,"sync-api":y(s),"sync-disabled":y(F)},null,8,["total","sync-api","sync-disabled"]),m("div",R,[b(d,{data:C.value,size:"large","row-class-name":"my-data-table-row",height:"100%",onSelectionChange:U,ref_key:"tableRef",ref:q},{empty:h((()=>[b(t)])),default:h((()=>[(c(!0),u(v,null,w(B.value,((e,t)=>(c(),f(a,{key:t,type:e.type,width:e.width,lable:e.lable,prop:e.prop},null,8,["type","width","lable","prop"])))),128))])),_:1},8,["data"])]),y(S)?(c(),f(l,{key:0,total:y(S),size:50,modelValue:y(T),"onUpdate:modelValue":o[0]||(o[0]=e=>x(T)?T.value=e:T=e),onChange:D},null,8,["total","modelValue"])):g("",!0)])),[[i,y(V)]])}}}),[["__scopeId","data-v-97d1bd0a"]]);export{S as default};
