var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,o=(a,t,l)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l,n=(e,a)=>{for(var t in a||(a={}))r.call(a,t)&&o(e,t,a[t]);if(l)for(var t of l(a))s.call(a,t)&&o(e,t,a[t]);return e};import{T as u}from"./TopSearch.f5d53232.js";import{a as i,M as d}from"./MyEmpty.fe8d3cd0.js";import{T as c}from"./TopBtns.511d3124.js";import{_ as p,m as v,n as y,o as b,p as f,e as m}from"./index.9e775b6a.js";import{g as h,a as w,w as g,s as j}from"./findC.071c9e18.js";import{F as _,f as O,r as S,R as H,G as T,H as M,X as P,u as x,I as C,Q as k,W as z,O as I,a6 as L}from"./vue.5acda677.js";import"./MyCascader.f3eea2b4.js";const R={class:"kzdata_page_c"},V={class:"mytable"},B=["innerHTML"];var E=p(_({setup(e){const l=v(),r=O((()=>l.state.addressHash)),s=S([]),o=()=>{w().then((e=>{s.value=e.body}))};o();const p=S(0),_=S(!1),E=S([]),D=S({size:50,current:1,source:1}),F=S(1),G=S(""),Q=async e=>{F.value=1,G.value=e,D.value.current=1,await U(),o()},U=async()=>{var e,l;_.value=!0,await g((e=n({},D.value),l={str:G.value},a(e,t(l)))).then((e=>{1==e.status&&(p.value=e.body.total,E.value=e.body.records),_.value=!1})).catch((()=>{m("查询失败"),_.value=!1}))},W=e=>{F.value=2,D.value=n(n({},D.value),e)},X=S([]),q=e=>{X.value=e.map((e=>e.id))},A=()=>{1==F.value&&U()},J=S(),K=S(),N=O((()=>!X.value.length)),Y=async()=>{K.value.setLoading(!0);const e=await j({list:X.value});K.value.close(e.message),X.value=[],J.value.clearSelection()};return(e,a)=>{const t=I("el-table-column"),l=I("el-table"),o=L("loading");return H((T(),M("div",R,[P(u,{onHeightSearch:W,onSearch:Q,words:s.value,hasHeight:!1,placeholder:"请输入电话号码、姓名查询"},null,8,["words"]),P(c,{total:p.value,syncbtn:"",onSync:Y,ref_key:"topBtnRef",ref:K,"sync-api":x(h),"sync-disabled":x(N),class:"topbtns"},null,8,["total","sync-api","sync-disabled"]),C("div",V,[P(l,{data:E.value,style:{width:"100%"},height:"100%",onSelectionChange:q,ref_key:"tableRef",ref:J},{empty:k((()=>[P(i)])),default:k((()=>[P(t,{type:"selection",width:"50"}),P(t,{property:"name",label:"姓名",width:"150"}),P(t,{property:"sex",label:"性别",width:"150"},{default:k((e=>[C("div",null,z(0==e.row.sex?"男":"女"),1)])),_:1}),P(t,{property:"mobiles",label:"联系方式",width:"210"},{default:k((e=>[C("div",{innerHTML:e.row.mobiles},null,8,B)])),_:1}),P(t,{property:"email",label:"邮箱",width:"210"}),P(t,{property:"address",label:"地区"},{default:k((e=>[C("div",null,z(x(y)(x(b)(e.row.province,e.row.city,e.row.district),x(r))),1)])),_:1}),P(t,{property:"source",label:"来源",width:"100"},{default:k((e=>[C("div",null,z(x(f)(e.row.source)),1)])),_:1})])),_:1},8,["data"])]),P(d,{total:p.value,size:50,modelValue:D.value.current,"onUpdate:modelValue":a[0]||(a[0]=e=>D.value.current=e),onChange:A},null,8,["total","modelValue"])])),[[o,_.value]])}}}),[["__scopeId","data-v-779da384"]]);export{E as default};
