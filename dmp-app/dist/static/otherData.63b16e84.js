var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,o=(a,t,l)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l,n=(e,a)=>{for(var t in a||(a={}))s.call(a,t)&&o(e,t,a[t]);if(l)for(var t of l(a))r.call(a,t)&&o(e,t,a[t]);return e};import{T as u}from"./TopSearch.02d152d5.js";import{a as d,M as i}from"./MyEmpty.35d3267a.js";import{T as c}from"./TopBtns.011048eb.js";import{_ as p,m as v,n as y,o as b,p as f,e as m}from"./index.39a5ef0e.js";import{g as h,a as w,w as g,s as _}from"./findC.649f1d57.js";import{F as j,f as O,r as H,R as S,G as T,H as x,X as M,u as P,I as C,Q as k,W as I,O as L,a6 as R}from"./vue.5acda677.js";import"./MyCascader.1bbcf912.js";const V={class:"otherdata_page_c"},z={class:"mytable"},B=["innerHTML"],E={style:{width:"100px"},class:"fcc"},D={class:"els2"};var F=p(j({setup(e){const l=v(),s=O((()=>l.state.addressHash)),r=O((()=>l.state.typeHash)),o=H([]),p=()=>{w().then((e=>{o.value=e.body}))};p();const j=H(0),F=H(!1),G=H(),Q=H({size:50,current:1,source:2}),U=H(1),W=H(""),X=async e=>{U.value=1,W.value=e,Q.value.current=1,await q(),p()},q=async()=>{var e,l;await g((e=n({},Q.value),l={str:W.value},a(e,t(l)))).then((e=>{1==e.status&&(j.value=e.body.total,G.value=e.body.records),F.value=!1})).catch((()=>{m("查询失败"),F.value=!1}))},A=e=>{U.value=2,Q.value=n(n({},Q.value),e)},J=H([]),K=e=>{J.value=e.map((e=>e.id))},N=()=>{1==U.value&&q()},Y=H(),Z=H(),$=O((()=>!J.value.length)),ee=async()=>{Z.value.setLoading(!0);const e=await _({list:J.value});Z.value.close(e.message),J.value=[],Y.value.clearSelection()};return(e,a)=>{const t=L("el-table-column"),l=L("el-tooltip"),n=L("el-table"),p=R("loading");return S((T(),x("div",V,[M(u,{onHeightSearch:A,onSearch:X,words:o.value,hasHeight:!1,placeholder:"请输入电话号码、姓名查询"},null,8,["words"]),M(c,{total:j.value,syncbtn:"",onSync:ee,ref_key:"topBtnRef",ref:Z,"sync-api":P(h),"sync-disabled":P($),class:"topbtns"},null,8,["total","sync-api","sync-disabled"]),C("div",z,[M(n,{data:G.value,style:{width:"100%"},height:"100%",onSelectionChange:K,ref_key:"tableRef",ref:Y},{empty:k((()=>[M(d)])),default:k((()=>[M(t,{type:"selection",width:"50"}),M(t,{property:"name",label:"姓名",width:"120"}),M(t,{property:"sex",label:"性别",width:"60"},{default:k((e=>[C("div",null,I(0==e.row.sex?"男":"女"),1)])),_:1}),M(t,{property:"mobiles",label:"联系方式",width:"160"},{default:k((e=>[C("div",{innerHTML:e.row.mobiles},null,8,B)])),_:1}),M(t,{property:"email",label:"邮箱",width:"180"}),M(t,{property:"tags",label:"从事行业"},{default:k((e=>[M(l,{effect:"dark",placement:"top"},{content:k((()=>[C("div",E,I(P(y)(e.row.tags,P(r))),1)])),default:k((()=>[C("div",D,I(P(y)(e.row.tags,P(r),"last")),1)])),_:2},1024)])),_:1}),M(t,{property:"address",label:"地区"},{default:k((e=>[C("div",null,I(P(y)(P(b)(e.row.province,e.row.city,e.row.district),P(s))),1)])),_:1}),M(t,{property:"source",label:"来源",width:"100"},{default:k((e=>[C("div",null,I(P(f)(e.row.source)),1)])),_:1})])),_:1},8,["data"])]),M(i,{total:j.value,size:50,modelValue:Q.value.current,"onUpdate:modelValue":a[0]||(a[0]=e=>Q.value.current=e),onChange:N},null,8,["total","modelValue"])])),[[p,F.value]])}}}),[["__scopeId","data-v-65b00677"]]);export{F as default};
