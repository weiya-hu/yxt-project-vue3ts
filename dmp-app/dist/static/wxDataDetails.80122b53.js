import{f as a}from"./date.23847c74.js";import{T as e}from"./TopBtns.b5dbe755.js";import{a as t,M as l}from"./MyEmpty.8f0ec31f.js";import{g as s,n as r,s as o}from"./findC.b0bf4d4b.js";import{F as d,f as n,r as u,R as i,G as c,H as p,X as v,u as y,I as m,Q as b,W as f,ax as _,O as h,a6 as w}from"./vue.5acda677.js";import{_ as g,m as j,k,n as x}from"./index.1db2fe58.js";const M={class:"wxdata_details_c"},z={class:"mytable"};var C=g(d({setup(d){const g=j(),C=n((()=>g.state.addressHash)),R=u([]),S=_(),V=u(1),B=u(0),H=u(!1),I=()=>{H.value=!0,r({did:S.query.id,size:50,current:V.value}).then((a=>{1==a.status&&(R.value=a.body.records,B.value=a.body.total),H.value=!1})).catch((()=>{H.value=!1}))};I();const T=u([]),q=a=>{T.value=a.map((a=>a.id))},D=u(),E=u(),F=n((()=>!T.value.length)),G=async()=>{E.value.setLoading(!0);const a=await o({list:T.value});E.value.close(a.message),T.value=[],D.value.clearSelection()};return(r,o)=>{const d=h("el-table-column"),n=h("el-avatar"),u=h("el-table"),_=w("loading");return i((c(),p("div",M,[v(e,{total:B.value,syncbtn:"",onSync:G,ref_key:"topBtnRef",ref:E,"sync-api":y(s),"sync-disabled":y(F),class:"topbtns"},null,8,["total","sync-api","sync-disabled"]),m("div",z,[v(u,{data:R.value,style:{width:"100%"},height:"100%",onSelectionChange:q,ref_key:"tableRef",ref:D},{empty:b((()=>[v(t)])),default:b((()=>[v(d,{type:"selection",width:"50"}),v(d,{property:"wechat_id",label:"好友微信号"}),v(d,{property:"avatar_url",label:"头像"},{default:b((a=>[v(n,{size:42,src:a.row.avatar_url},null,8,["src"])])),_:1}),v(d,{property:"nick_name",label:"昵称"}),v(d,{property:"gender",label:"性别"},{default:b((a=>[m("div",null,f(0==a.row.gender?"未知":1==a.row.gender?"男":"女"),1)])),_:1}),v(d,{property:"phone_number",label:"联系方式"}),v(d,{property:"address",label:"地区"},{default:b((a=>[m("div",null,f(y(k)(y(x)(a.row.province,a.row.city,a.row.district),y(C))),1)])),_:1}),v(d,{property:"signature",label:"个性签名"}),v(d,{property:"create_time",label:"创建时间"},{default:b((e=>[m("div",null,f(y(a)(new Date(e.row.create_time),"yyyy-MM-dd hh:mm:ss")),1)])),_:1})])),_:1},8,["data"])]),v(l,{total:B.value,size:50,modelValue:V.value,"onUpdate:modelValue":o[0]||(o[0]=a=>V.value=a),onChange:I},null,8,["total","modelValue"])])),[[_,H.value]])}}}),[["__scopeId","data-v-653020a4"]]);export{C as default};
