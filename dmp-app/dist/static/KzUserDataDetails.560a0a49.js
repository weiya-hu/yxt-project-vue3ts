import{T as e}from"./TopBtns.e5b3ccd0.js";import{a,M as l}from"./MyEmpty.0194cb63.js";import{m as t,n as s,o,p as r,_ as i}from"./index.2af4c4b9.js";import{F as n,f as u,r as d,O as c,G as p,H as v,X as y,Q as m,I as b,W as f,u as h,L as _,ax as g,a6 as w,R as L}from"./vue.5acda677.js";import{g as x,s as j}from"./findC.0d788b52.js";const H=["innerHTML"],I=n({props:{data:null,oheight:{default:126}},emits:["select"],setup(e,{expose:l,emit:i}){const n=t(),g=u((()=>n.state.typeHash)),w=u((()=>n.state.addressHash)),L=d([]),x=e=>{L.value=e.map((e=>e.id))},j=d();return l({selIdList:L,clear:()=>{L.value=[],j.value.clearSelection()}}),(l,t)=>{const i=c("el-table-column"),n=c("el-table");return p(),v("div",{class:"mytable user_table",style:_({height:`calc( 100% - ${e.oheight}px )`})},[y(n,{data:e.data,style:{width:"100%"},height:"100%",onSelectionChange:x,ref_key:"tableRef",ref:j},{empty:m((()=>[y(a)])),default:m((()=>[y(i,{type:"selection",width:"50"}),y(i,{property:"name",label:"姓名"}),y(i,{property:"sex",label:"性别"},{default:m((e=>[b("div",null,f(1==e.row.sex?"男":"女"),1)])),_:1}),y(i,{property:"mobiles",label:"联系方式"},{default:m((e=>[b("div",{innerHTML:e.row.mobiles},null,8,H)])),_:1}),y(i,{property:"email",label:"邮箱"}),y(i,{property:"type",label:"从事行业"},{default:m((e=>[b("div",null,f(h(s)(e.row.industry_id.split(","),h(g),"last")),1)])),_:1}),y(i,{label:"地区"},{default:m((e=>[b("div",null,f(h(s)(h(o)(e.row.province,e.row.city,e.row.district),h(w))),1)])),_:1}),y(i,{property:"source",label:"来源"},{default:m((e=>[b("div",null,f(h(r)(e.row.source)),1)])),_:1})])),_:1},8,["data"])],4)}}});const M={class:"user_data_details"};var R=i(n({props:{getListApi:null},setup(a){const t=a,s=d([]),o=d(0),r=d(1),i=d(!1),n=g(),c=()=>{i.value=!0,t.getListApi({size:50,current:r.value,did:n.query.id}).then((e=>{1==e.status&&(o.value=e.body.total,s.value=e.body.records),i.value=!1})).catch((()=>{i.value=!1}))};c();const m=()=>{c()},b=d(),f=d(),_=u((()=>f.value&&!f.value.selIdList.length)),H=async()=>{b.value.setLoading(!0);const e=await j({list:f.value.selIdList});b.value.close(e.message),f.value.clear()};return(a,t)=>{const n=w("loading");return L((p(),v("div",M,[y(e,{total:o.value,syncbtn:"",onSync:H,ref_key:"topBtnRef",ref:b,"sync-api":h(x),"sync-disabled":h(_),class:"topbtns"},null,8,["total","sync-api","sync-disabled"]),y(I,{data:s.value,ref_key:"tableRef",ref:f},null,8,["data"]),y(l,{total:o.value,size:50,modelValue:r.value,"onUpdate:modelValue":t[0]||(t[0]=e=>r.value=e),onChange:m},null,8,["total","modelValue"])])),[[n,i.value]])}}}),[["__scopeId","data-v-306440de"]]);export{R as K};
