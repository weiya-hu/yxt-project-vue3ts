import{M as e}from"./MyDataTable.db6ec508.js";import{a as t,M as a}from"./MyEmpty.2a722683.js";import{g as l,d as p,s}from"./seekPathPro.103961ad.js";import{F as o,r as i,f as d,R as r,u as n,G as y,H as c,X as u,I as b,Q as m,Y as h,a7 as w,P as v,i as f,U as _,ax as x,O as g,a6 as j}from"./vue.5acda677.js";import{T as k}from"./TopBtns.b126c8e5.js";import{_ as M}from"./index.e622edbd.js";import"./date.23847c74.js";const z={class:"up2b-detail"},P={class:"mytable"};var R=M(o({setup(o){const M=x();let R=i(0),S=i(1),T=i(!1);const V=i([{type:"select",prop:"select",width:30},{type:"num",lable:"序号",prop:"num",width:70},{type:"text",lable:"企业名称",prop:"name",width:130},{type:"text",lable:"联系人",prop:"contact",width:74},{type:"text",lable:"联系方式",prop:"mobiles",width:100},{type:"text",lable:"固定电话",prop:"telephone",width:100},{type:"industry_id",lable:"行业分类",prop:"industry_id",width:100},{type:"city_id",lable:"地区",prop:"city",width:110},{type:"text",lable:"详细地址",prop:"address",width:140},{type:"company_type",lable:"企业类型",prop:"company_type",width:120},{type:"text",lable:"统一社会信用代码",prop:"code",width:170},{type:"link",lable:"企业官网",prop:"url",width:150},{type:"text-tooltip",lable:"经营范围",prop:"business_scope",width:200},{type:"text",lable:"项目名称",prop:"item_name",width:100},{type:"text-tooltip",lable:"项目介绍",prop:"item_desc",width:150},{type:"text",lable:"招标金额（万元）",prop:"amount",width:100},{type:"date",lable:"截止日期",prop:"left_time",width:120},{type:"link",lable:"项目附件",prop:"attachment",width:120}]),B=i([]),C=async()=>{T.value=!0;let e={current:S.value,size:50,id:M.query.id};const{status:t,body:a}=await p(e);T.value=!1,t&&(R.value=a.total,B.value=a.records)};C();const I=i([]),U=e=>{I.value=e.map((e=>e.id))},q=i(),D=i(),E=d((()=>!I.value.length)),F=async()=>{D.value.setLoading(!0);const e=await s({list:I.value,type:2});D.value.close(e.message),I.value=[],q.value.clearSelection()};return(p,s)=>{const o=g("el-table"),i=j("loading");return r((y(),c("div",z,[u(k,{total:n(R),syncbtn:"",onSync:F,ref_key:"topBtnRef",ref:D,"sync-api":n(l),"sync-disabled":n(E)},null,8,["total","sync-api","sync-disabled"]),b("div",P,[u(o,{data:B.value,size:"large","row-class-name":"my-data-table-row",height:"100%",onSelectionChange:U,ref_key:"tableRef",ref:q},{empty:m((()=>[u(t)])),default:m((()=>[(y(!0),c(h,null,w(V.value,((t,a)=>(y(),v(e,{key:a,type:t.type,width:t.width,lable:t.lable,prop:t.prop},null,8,["type","width","lable","prop"])))),128))])),_:1},8,["data"])]),n(R)?(y(),v(a,{key:0,size:50,total:n(R),modelValue:n(S),"onUpdate:modelValue":s[0]||(s[0]=e=>f(S)?S.value=e:S=e),onChange:C},null,8,["total","modelValue"])):_("",!0)])),[[i,n(T)]])}}}),[["__scopeId","data-v-5872379e"]]);export{R as default};
