import{_ as a,E as s}from"./index.8618f993.js";import{F as l,r as e,O as d,a6 as t,G as i,H as n,I as u,W as o,P as c,Q as b,V as v,U as p,X as r,R as y,Y as f,a7 as m,K as _,at as k,au as x}from"./vue.5acda677.js";const C=a=>(k("data-v-c006dd08"),a=a(),x(),a),g={class:"top_btns fsc"},A={key:0,class:"find_number"},B=v(" 为您找到"),P=v("家符合条件的客户（"),S=C((()=>u("span",null,"*根据政策与监管法规要求，联系人手机号脱敏展示",-1))),T=v("） "),V=v("同步数据"),j={class:"fsc"},D=C((()=>u("div",{class:"lt"},"选择同步系统",-1))),w={class:"rt fcs"},z=v("每天同步上限"),I=v("条数据"),M={class:"btn_list flex"},R={class:"flex fjend"},U=v("取消"),h=v("同步");var E=a(l({props:{total:{default:""},syncbtn:{type:Boolean,default:!1},syncDisabled:{type:Boolean,default:!0},syncApi:null,btnText:{default:"新增需求"}},emits:["add","sync"],setup(a,{expose:l,emit:k}){const x=a,C=e({}),E=async()=>{const a=x.syncApi&&await x.syncApi();a&&1==a.status&&(C.value=a.body,H.value=!0)},F=e(!1),G=a=>{L.value=0,H.value=!1,F.value=!1,a&&s.alert(a,"同步结果",{confirmButtonText:"确定",callback:()=>{}})},H=e(!1),K=e([{id:1,btns:"同步APP营销矩阵",disabled:!1},{id:2,btns:"同步SCRM系统",disabled:!0},{id:3,btns:"同步DSP系统",disabled:!0},{id:4,btns:"同步SMS系统",disabled:!0}]),L=e(0);return l({close:G,setLoading:a=>{F.value=Boolean(a)}}),(s,l)=>{const e=d("el-button"),x=d("el-dialog"),O=t("loading");return i(),n("div",g,[""!==a.total?(i(),n("div",A,[B,u("span",null," "+o(a.total)+" ",1),P,S,T])):(i(),c(e,{key:1,size:"large",type:"primary",onClick:l[0]||(l[0]=a=>k("add"))},{default:b((()=>[v(o(a.btnText),1)])),_:1})),a.syncbtn?(i(),c(e,{key:2,size:"large",onClick:E,disabled:a.syncDisabled},{default:b((()=>[V])),_:1},8,["disabled"])):p("",!0),r(x,{modelValue:H.value,"onUpdate:modelValue":l[3]||(l[3]=a=>H.value=a),title:"同步数据",width:"465px",onClose:G,"custom-class":"sync_dialog"},{footer:b((()=>[u("span",R,[r(e,{onClick:l[1]||(l[1]=a=>H.value=!1),disabled:F.value},{default:b((()=>[U])),_:1},8,["disabled"]),r(e,{type:"primary",disabled:!L.value||F.value,onClick:l[2]||(l[2]=a=>s.$emit("sync"))},{default:b((()=>[h])),_:1},8,["disabled"])])])),default:b((()=>[y((i(),n("div",null,[u("div",j,[D,u("div",w,[z,u("span",null,o(C.value.surplus)+"/"+o(C.value.total),1),I])]),u("div",M,[(i(!0),n(f,null,m(K.value,(a=>(i(),c(e,{class:_(["btn_item",a.disabled&&"btn_disabled"]),type:a.id==L.value?"primary":"",disabled:a.disabled,key:a.id,onClick:s=>L.value=a.id},{default:b((()=>[v(o(a.btns),1)])),_:2},1032,["type","disabled","class","onClick"])))),128))])])),[[O,F.value]])])),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-c006dd08"]]);export{E as T};
