import{_ as a,E as s}from"./index.585b2ef6.js";import{F as l,r as e,O as d,a6 as t,G as i,H as n,I as u,W as o,P as c,Q as b,U as v,X as p,R as r,Y as y,a7 as f,V as m,K as _,at as k,au as C}from"./vue.5acda677.js";const x=a=>(k("data-v-db0d2dde"),a=a(),C(),a),g={class:"top_btns fsc"},A={key:0,class:"find_number"},B=m(" 为您找到"),P=m("家符合条件的客户（"),S=x((()=>u("span",null,"*根据政策与监管法规要求，联系人手机号脱敏展示",-1))),V=m("） "),j=m("新增需求"),D=m("同步数据"),w={class:"fsc"},z=x((()=>u("div",{class:"lt"},"选择同步系统",-1))),I={class:"rt fcs"},M=m("每天同步上限"),R=m("条数据"),T={class:"btn_list flex"},U={class:"flex fjend"},h=m("取消"),E=m("同步");var F=a(l({props:{total:{default:""},syncbtn:{type:Boolean,default:!1},syncDisabled:{type:Boolean,default:!0},syncApi:null},emits:["add","sync"],setup(a,{expose:l,emit:k}){const C=a,x=e({}),F=async()=>{const a=C.syncApi&&await C.syncApi();a&&1==a.status&&(x.value=a.body,K.value=!0)},G=e(!1),H=a=>{O.value=0,K.value=!1,G.value=!1,a&&s.alert(a,"同步结果",{confirmButtonText:"确定",callback:()=>{}})},K=e(!1),L=e([{id:1,btns:"同步APP营销矩阵",disabled:!1},{id:2,btns:"同步SCRM系统",disabled:!0},{id:3,btns:"同步DSP系统",disabled:!0},{id:4,btns:"同步SMS系统",disabled:!0}]),O=e(0);return l({close:H,setLoading:a=>{G.value=Boolean(a)}}),(s,l)=>{const e=d("el-button"),C=d("el-dialog"),Q=t("loading");return i(),n("div",g,[""!==a.total?(i(),n("div",A,[B,u("span",null," "+o(a.total)+" ",1),P,S,V])):(i(),c(e,{key:1,size:"large",type:"primary",onClick:l[0]||(l[0]=a=>k("add"))},{default:b((()=>[j])),_:1})),a.syncbtn?(i(),c(e,{key:2,size:"large",onClick:F,disabled:a.syncDisabled},{default:b((()=>[D])),_:1},8,["disabled"])):v("",!0),p(C,{modelValue:K.value,"onUpdate:modelValue":l[3]||(l[3]=a=>K.value=a),title:"同步数据",width:"465px",onClose:H,"custom-class":"sync_dialog"},{footer:b((()=>[u("span",U,[p(e,{onClick:l[1]||(l[1]=a=>K.value=!1),disabled:G.value},{default:b((()=>[h])),_:1},8,["disabled"]),p(e,{type:"primary",disabled:!O.value||G.value,onClick:l[2]||(l[2]=a=>s.$emit("sync"))},{default:b((()=>[E])),_:1},8,["disabled"])])])),default:b((()=>[r((i(),n("div",null,[u("div",w,[z,u("div",I,[M,u("span",null,o(x.value.surplus)+"/"+o(x.value.total),1),R])]),u("div",T,[(i(!0),n(y,null,f(L.value,(a=>(i(),c(e,{class:_(["btn_item",a.disabled&&"btn_disabled"]),type:a.id==O.value?"primary":"",disabled:a.disabled,key:a.id,onClick:s=>O.value=a.id},{default:b((()=>[m(o(a.btns),1)])),_:2},1032,["type","disabled","class","onClick"])))),128))])])),[[Q,G.value]])])),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-db0d2dde"]]);export{F as T};
