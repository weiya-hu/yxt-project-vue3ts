import{T as a}from"./TopBtns.011048eb.js";import{M as e}from"./MyDataTable.dab30cbe.js";import{a as t,M as l}from"./MyEmpty.35d3267a.js";import{g as s,b as o,s as p}from"./myData.4f681ca9.js";import{F as i,r as d,f as r,R as n,u as y,G as c,H as u,X as m,I as b,Q as v,Y as f,a7 as h,P as w,i as g,U as _,ax as x,O as j,a6 as k}from"./vue.5acda677.js";import{_ as M}from"./index.39a5ef0e.js";import"./date.23847c74.js";const z={class:"up2b-detail"},R={class:"mytable"};var S=M(i({setup(i){const M=x();let S=d(0),T=d(1),V=d(!1);const B=d([{type:"select",prop:"select",width:130},{type:"text",lable:"姓名",prop:"contact",width:90},{type:"sex",lable:"性别",prop:"sex",width:80},{type:"text",lable:"联系方式",prop:"mobiles",width:100},{type:"text",lable:"邮箱",prop:"email",width:150},{type:"industry_id",lable:"从事行业",prop:"industry_id",width:130},{type:"city_id",lable:"地区",prop:"city",width:150}]),C=d([]),D=async()=>{V.value=!0;let a={current:T.value,size:50,id:M.query.id};const{status:e,body:t}=await o(a);V.value=!1,e&&(S.value=t.total,C.value=t.records)};D();const I=d([]),U=a=>{I.value=a.map((a=>a.id))},q=d(),E=d(),F=r((()=>!I.value.length)),G=async()=>{E.value.setLoading(!0);const a=await p({list:I.value,type:2});E.value.close(a.message),I.value=[],q.value.clearSelection()};return(o,p)=>{const i=j("el-table"),d=k("loading");return n((c(),u("div",z,[m(a,{total:y(S),syncbtn:"",onSync:G,ref_key:"topBtnRef",ref:E,"sync-api":y(s),"sync-disabled":y(F)},null,8,["total","sync-api","sync-disabled"]),b("div",R,[m(i,{data:C.value,size:"large","row-class-name":"my-data-table-row",height:"100%",onSelectionChange:U,ref_key:"tableRef",ref:q},{empty:v((()=>[m(t)])),default:v((()=>[(c(!0),u(f,null,h(B.value,((a,t)=>(c(),w(e,{key:t,type:a.type,width:a.width,lable:a.lable,prop:a.prop},null,8,["type","width","lable","prop"])))),128))])),_:1},8,["data"])]),y(S)?(c(),w(l,{key:0,total:y(S),size:50,modelValue:y(T),"onUpdate:modelValue":p[0]||(p[0]=a=>g(T)?T.value=a:T=a),onChange:D},null,8,["total","modelValue"])):_("",!0)])),[[d,y(V)]])}}}),[["__scopeId","data-v-87492d02"]]);export{S as default};
