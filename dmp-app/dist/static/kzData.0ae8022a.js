var a=Object.defineProperty,e=Object.defineProperties,t=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,s=(e,t,r)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,u=(a,e)=>{for(var t in e||(e={}))l.call(e,t)&&s(a,t,e[t]);if(r)for(var t of r(e))o.call(e,t)&&s(a,t,e[t]);return a};import{T as n}from"./TopSearch.c4e1219e.js";import{_ as c}from"./MyEmpty.b964169c.js";import{T as v}from"./TopBtns.20c749f8.js";import{C as p}from"./CompanyTable.aee63277.js";import{_ as d,g as i,w as b,e as y,s as m}from"./index.486f2fa0.js";import{F as f,r as h,G as j,H as w,X as g,R as O,a6 as P}from"./vue.5acda677.js";import"./MyCascader.45a5b469.js";const T={class:"kzdata_page"};var _=d(f({setup(a){const r=h([]),l=()=>{i().then((a=>{r.value=a.body}))};l();const o=h({size:10,current:1,source:1}),s=h(0),d=h([]),f=h(!1),_=h(1),C=h(""),S=async a=>{_.value=1,f.value=!0,o.value.current=1,C.value=a,await H(),l()},H=async()=>{var a,r;await b((a=u({},o.value),r={keywords:C.value},e(a,t(r)))).then((a=>{1==a.status&&(s.value=a.body.total,d.value=a.body.records),f.value=!1})).catch((()=>{y("查询失败"),f.value=!1}))},V=h({}),k=async a=>{f.value=!0,_.value=2,o.value.current=1,V.value=a,await x()},x=async()=>{await m(u(u({},o.value),V.value)).then((a=>{1==a.status&&(s.value=a.body.total,d.value=a.body.records),f.value=!1})).catch((()=>{y("查询失败"),f.value=!1}))},z=()=>{1==_.value?H():x()};return(a,e)=>{const t=P("loading");return j(),w("div",T,[g(n,{onHeightSearch:k,onSearch:S,words:r.value,hasHeight:!0,placeholder:"请输入企业名称、联系人、经营范围关键词"},null,8,["words"]),g(v,{total:s.value,class:"topbtns"},null,8,["total"]),O(g(p,{data:d.value},null,8,["data"]),[[t,f.value]]),g(c,{total:s.value,modelValue:o.value.current,"onUpdate:modelValue":e[0]||(e[0]=a=>o.value.current=a),onChange:z},null,8,["total","modelValue"])])}}}),[["__scopeId","data-v-bfa9b698"]]);export{_ as default};
